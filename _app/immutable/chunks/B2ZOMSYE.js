import{t as ee,a as H,c as me}from"./Cw4I5osi.js";import{R as be,p as we,f as ne,a as ve,s as se,c as re,r as ae,t as ie,g as ye,u as he}from"./NgVQVlRK.js";import{p as A,i as X,b as Te,a as F}from"./B4IyMRKX.js";import{s as Y}from"./DVI7OasS.js";import{A as le,E as Ee,G as De,W as _e,H as Z,I as q,J as g,X as Pe,Y as N,Z as ce,$ as Oe,a0 as ue,a1 as de,a2 as ke,a3 as Ce,a4 as fe,a5 as Ie,a6 as xe,a7 as He,a8 as Ae,a9 as Fe,aa as K,o as Q,j as U,t as Ke,ab as Me}from"./Bo6lCraI.js";import{d as Se,w as pe}from"./DcOM_HI-.js";import{m as ze,i as Be}from"./BO5hWg_2.js";const Ge={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:"body",escapeBehavior:"close",disableHoverableContent:!1,group:void 0},{name:$}=Pe("tooltip"),M=new Map,Ve=["trigger","content"];function We(S){const s={...Ge,...S},m=le(Ee(s,"open","ids")),{positioning:z,arrowSize:_,closeOnPointerDown:O,openDelay:k,closeDelay:B,forceVisible:C,portal:I,escapeBehavior:G,disableHoverableContent:V,group:W}=m,L=s.open??pe(s.defaultOpen),i=De(L,s==null?void 0:s.onOpenChange),y=pe(null),b=le({..._e(Ve),...s.ids});let h=!1,w=!1,T=!1;const E=e=>fe?document.getElementById(b[e].get()):null;let r=null,p=null;function a(e){p&&(window.clearTimeout(p),p=null),r||(r=window.setTimeout(()=>{i.set(!0),y.update(t=>t??e),r=null},k.get()))}function n(e){if(r&&(window.clearTimeout(r),r=null),e&&d){y.set("pointer");return}p||(p=window.setTimeout(()=>{i.set(!1),y.set(null),e&&(h=!1),p=null},B.get()))}const c=Se([i,C],([e,t])=>e||t),u=Z($("trigger"),{stores:[b.content,b.trigger,i],returned:([e,t,o])=>({"aria-describedby":e,id:t,"data-state":o?"open":"closed"}),action:e=>{const t=q(g(e,"pointerdown",()=>{O.get()&&(i.set(!1),h=!0,r&&(window.clearTimeout(r),r=null))}),g(e,"pointerenter",o=>{w=!0,!de(o)&&a("pointer")}),g(e,"pointerleave",o=>{w=!1,!de(o)&&r&&(window.clearTimeout(r),r=null)}),g(e,"focus",()=>{h||a("focus")}),g(e,"blur",()=>n(!0)));return{destroy(){t(),w=!1}}}}),l=Z($("content"),{stores:[c,i,I,b.content],returned:([e,t,o,f])=>({role:"tooltip",hidden:e?void 0:!0,tabindex:-1,style:e?void 0:ue({display:"none"}),id:f,"data-portal":Oe(o),"data-state":t?"open":"closed"}),action:e=>{let t=K,o=K,f=K,v=K;const R=N([c,z,I],([J,P,x])=>{o(),t(),f(),v();const te=E("trigger");!J||!te||be().then(()=>{o(),t(),f(),v();const oe=Ie(e,x);oe!==null&&(o=xe(e,oe).destroy),t=He(te,e,P).destroy,f=Ae(e).destroy,v=Fe(e,{behaviorType:G,handler:()=>{r&&(window.clearTimeout(r),r=null),i.set(!1)}}).destroy})});function j(J){if(!i.get())return;const P=J.target;if(!ke(P)&&!Ce(P))return;const x=E("trigger");x&&P.contains(x)&&n()}const ge=q(g(e,"pointerenter",()=>{T=!0,a("pointer")}),g(e,"pointerleave",()=>{T=!1}),g(e,"pointerdown",()=>a("pointer")),ce(window,"scroll",j,{capture:!0}));return{destroy(){T=!1,ge(),o(),t(),R(),f()}}}}),D=Z($("arrow"),{stores:_,returned:e=>({"data-arrow":!0,style:ue({position:"absolute",width:`var(--arrow-size, ${e}px)`,height:`var(--arrow-size, ${e}px)`})})});let d=!1;return N(i,e=>{const t=W.get();if(t===void 0||t===!1)return;if(!e){M.get(t)===i&&M.delete(t);return}const o=M.get(t);o==null||o.set(!1),M.set(t,i)}),N([i,y],([e,t])=>{if(!(!e||!fe))return q(ce(document,"mousemove",o=>{const f=E("content"),v=E("trigger");if(!f||!v)return;const R=V.get()?[v]:[v,f],j=ze(R);d=w||T||Be(o,j),t==="pointer"&&(d||n())}))}),{ids:b,elements:{trigger:u,content:l,arrow:D},states:{open:i},options:m}}var Le=ee("<span><!></span>"),Re=ee("<div><div></div> <!></div>"),je=ee("<!> <!>",1);function $e(S,s){we(s,!0);const[m,z]=Te(),_=()=>F(W,"$trigger",m),O=()=>F(L,"$content",m),k=()=>F(i,"$arrow",m),B=()=>F(y,"$open",m),C=A(s,"placement",3,"top"),I=A(s,"disabled",3,!1),G=A(s,"closeOnPointerDown",3,!1),V=A(s,"disableHoverableContent",3,!1),{elements:{trigger:W,content:L,arrow:i},states:{open:y}}=We({positioning:{placement:C()},openDelay:0,closeOnPointerDown:G(),forceVisible:!0,disableHoverableContent:V()});let b=he(()=>function(){const n={duration:150};switch(C()){case"top":case"top-start":case"top-end":n.y=4;break;case"bottom":case"bottom-start":case"bottom-end":n.y=-4;break;case"left":case"left-start":case"left-end":n.x=4;break;case"right":case"right-start":case"right-end":n.x=-4;break}return n}());var h=je(),w=ne(h);{var T=a=>{var n=me(),c=ne(n);Y(c,()=>s.asChild,()=>({trigger:_()})),H(a,n)},E=(a,n)=>{{var c=u=>{var l=Le();let D;var d=re(l);Y(d,()=>s.children),ae(l),Q(l,e=>{var t,o;return(o=(t=_()).action)==null?void 0:o.call(t,e)}),ie(()=>D=U(l,D,{..._()})),H(u,l)};X(a,u=>{s.children&&u(c)},n)}};X(w,a=>{s.asChild?a(T):a(E,!1)})}var r=se(w,2);{var p=a=>{var n=Re();let c;var u=re(n);let l;Q(u,d=>{var e,t;return(t=(e=k()).action)==null?void 0:t.call(e,d)});var D=se(u,2);Y(D,()=>s.tooltip),ae(n),Q(n,d=>{var e,t;return(t=(e=O()).action)==null?void 0:t.call(e,d)}),ie(()=>{c=U(n,c,{...O(),class:"web-tooltip text-sub-body"}),l=U(u,l,{...k()})}),Ke(3,n,()=>Me,()=>ye(b)),H(a,n)};X(r,a=>{s.tooltip&&B()&&!I()&&a(p)})}H(S,h),ve(),z()}export{$e as T};