import{A as L,E as M,G as P,H as g,X as F,I as N,J as E,ai as m,aj as W,ak as j,al as q,K as b,am as z,L as T,a4 as x}from"./BzVk5r6l.js";import{w as B}from"./DcOM_HI-.js";function G(p){return window.getComputedStyle(p).getPropertyValue("direction")}const J={orientation:"horizontal",activateOnFocus:!0,loop:!0,autoSet:!0},{name:v,selector:R}=F("tabs");function Y(p){const a={...J,...p},y=L(M(a,"defaultValue","value","onValueChange","autoSet")),{orientation:c,activateOnFocus:V,loop:D}=y,A=a.value??B(a.defaultValue),n=P(A,a==null?void 0:a.onValueChange);let d=a.defaultValue??n.get();const S=g(v(),{stores:c,returned:t=>({"data-orientation":t})}),h=g(v("list"),{stores:c,returned:t=>({role:"tablist","aria-orientation":t,"data-orientation":t})}),w=t=>typeof t=="string"?{value:t}:t,C=g(v("trigger"),{stores:[n,c],returned:([t,i])=>e=>{const{value:r,disabled:o}=w(e);!t&&!d&&a.autoSet&&(d=r,t=r,n.set(r));const l=(x?t:d)===r;return{type:"button",role:"tab","data-state":l?"active":"inactive",tabindex:l?0:-1,"data-value":r,"data-orientation":i,"data-disabled":T(o),disabled:T(o)}},action:t=>({destroy:N(E(t,"focus",()=>{const e=t.dataset.disabled==="true",r=t.dataset.value;V.get()&&!e&&r!==void 0&&n.set(r)}),E(t,"click",e=>{if(t.focus(),e.preventDefault(),t.dataset.disabled==="true")return;const o=t.dataset.value;t.focus(),o!==void 0&&n.set(o)}),E(t,"keydown",e=>{const r=t.dataset.value;if(!r)return;const o=e.currentTarget;if(!m(o))return;const f=o.closest(R());if(!m(f))return;const l=D.get(),u=Array.from(f.querySelectorAll('[role="tab"]')).filter(s=>m(s)).filter(s=>!s.hasAttribute("data-disabled")),k=u.findIndex(s=>s===e.target),H=G(f),{nextKey:K,prevKey:I}=W(H,c.get());e.key===K?(e.preventDefault(),j(u,k,l).focus()):e.key===I?(e.preventDefault(),q(u,k,l).focus()):e.key===b.ENTER||e.key===b.SPACE?(e.preventDefault(),n.set(r)):e.key===b.HOME?(e.preventDefault(),u[0].focus()):e.key===b.END&&(e.preventDefault(),z(u).focus())}))})}),O=g(v("content"),{stores:n,returned:t=>i=>({role:"tabpanel","aria-labelledby":i,hidden:x?t===i?void 0:!0:d===i?void 0:!0,tabindex:0})});return{elements:{root:S,list:h,trigger:C,content:O},states:{value:n},options:y}}export{Y as c};
