import{t as v,a as n,b as l}from"./Cw4I5osi.js";import"./BzVk5r6l.js";import{s as r,f,c as xt,n as o,r as kt}from"./NgVQVlRK.js";import{n as It}from"./B4IyMRKX.js";import{H as P}from"./CXsRaEhZ.js";import"./hMT8fFzP.js";import"./NwRJ91PD.js";/* empty css        */import"./BZUG4Puk.js";import{I as y}from"./CmUbQthf.js";import"./D9bBQFLV.js";import{B as Bt}from"./BlhJVlLQ.js";import{C as h}from"./DXp9_3zM.js";import{F as x}from"./OFUKRh55.js";import{L as k,I as _}from"./BhmTgGWB.js";import{P as d}from"./D8YsId2T.js";import{S as b}from"./yHjwcyUH.js";import{L as g}from"./yh4_9ChP.js";import"./POtwinrL.js";import"./CbbZjpT6.js";/* empty css        *//* empty css        */import{P as Ft}from"./CEkRzcqJ.js";const At={layout:"post",title:"Building apps with Bun and Backrush",description:"Learn what Bun really is, how it compares with Node.js and Deno, and how you can build apps with Bun and Backrush.",date:"2024-01-10T00:00:00.000Z",cover:"/images/blog/building-apps-with-bun-and-appwrite/bun-cover.png",timeToRead:9,author:"aditya-oberai",category:"tutorial"};var Nt=v("If you are a developer, your definition of <!> must have recently changed. From what we knew to be a round piece of bread, it is now a new runtime in JavaScript, and as Bun claims, it is faster than the rest! In this article, we will find out what Bun really is, how it compares with Node.js and Deno, and how you can build apps with Bun and Backrush.",1),Lt=v("Bun is an all-in-one JavaScript runtime &amp; toolkit designed for speed, complete with a bundler, <!>, and Node.js-compatible <!>. To install Bun, follow the instructions <!>. It is built from scratch to serve the modern JavaScript ecosystem. It has three major design goals:",1),Dt=v("<!><!><!>",1),Ct=v("Bun lets you read environment variables from a <!> file and utilize the familiar <!> method, enabling you to access and handle data from external sources within your application.",1),Wt=v("Bun also natively supports TypeScript out of the box. Other than that, it also supports <!>, <!>, <!>, <!>, and <!> files.",1),Et=v("<em>Bonus: Bun package manager is known for its speed, offering faster package management as one of its key features. Even if you don&#39;t use Bun as a runtime, you can use Bun&#39;s built-in package manager, that can significantly speed up your development workflow.</em>"),Ht=v("The powers of Bun are endless. If you are interested to know more about the capabilities, read the <!>.",1),Jt=v("Other than that, there are things like: While installing a package, Bun doesn’t do a network check to see if it is downloading in the latest version. <!> tags are effectively ignored in Bun.",1),Ut=v("Explore the capabilities of Bun with <!> - a backend platform to help you minimize time to create value. Backrush abstracts away the complexities and repetitiveness of building a modern application so you can jump straight to the fun parts, building impactful features.",1),qt=v("Backrush functions are capable of doing more. In our latest release, we have added <!>, which means you’ll be able to add Functions engineered by the Backrush team and community to your Backrush project. Functions also have their own <!>, either custom or generated by Backrush. This lets you write Backrush Functions that act like typical REST endpoints to handle webhooks, custom integrations, or even serve HTML content. Backrush Functions will now also fit into your existing workflow right alongside the rest of your code as you can deploy them directly from <!>.",1),Ot=v("<!><!>",1),Rt=v("For one-click setups, check out the <!>.",1),zt=v("To use Bun in Backrush, you need to add it to <!> in the <!> file and restart your Backrush instance with <!>.",1),Mt=v("Bun aims to provide a consistent and predictable module resolution system that just works. The specialty of Bun is that you can use <!> or <!> in the same file—they both work all the time.",1),Zt=v("Bun supports <!> and <!> files out of the box. Bun&#39;s internal transpiler converts JSX syntax into vanilla JavaScript before execution.",1),Gt=v("<em>Note:  For the code to work, you need to run <!></em>"),Vt=v("<!><!><!><!>",1),Xt=v("<!><!><!>",1),Yt=v("<article><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!></article>");function Kt(Tt){Ft(Tt,It(At,{children:(jt,Qt)=>{var B=Yt(),A=xt(B);d(A,{children:(e,a)=>{o();var t=Nt(),s=r(f(t));h(s,{content:"bun"}),o(),n(e,t)},$$slots:{default:!0}});var T=r(A);P(T,{level:1,children:(e,a)=>{o();var t=l("What is Bun?");n(e,t)},$$slots:{default:!0}});var j=r(T);d(j,{children:(e,a)=>{o();var t=Lt(),s=r(f(t));g(s,{href:"https://bun.sh/docs/cli/test",children:(u,$)=>{o();var c=l("test runner");n(u,c)},$$slots:{default:!0}});var i=r(s,2);g(i,{href:"https://bun.sh/package-manager",children:(u,$)=>{o();var c=l("package manager");n(u,c)},$$slots:{default:!0}});var p=r(i,2);g(p,{href:"https://bun.sh/",children:(u,$)=>{o();var c=l("here");n(u,c)},$$slots:{default:!0}}),o(),n(e,t)},$$slots:{default:!0}});var S=r(j);k(S,{ordered:!1,marker:"-",children:(e,a)=>{var t=Dt(),s=f(t);_(s,{children:(u,$)=>{b(u,{marker:"**",children:(c,m)=>{o();var w=l("Speed");n(c,w)},$$slots:{default:!0}})},$$slots:{default:!0}});var i=r(s);_(i,{children:(u,$)=>{b(u,{marker:"**",children:(c,m)=>{o();var w=l("Elegant APIs");n(c,w)},$$slots:{default:!0}})},$$slots:{default:!0}});var p=r(i);_(p,{children:(u,$)=>{b(u,{marker:"**",children:(c,m)=>{o();var w=l("Cohesive Developer Experience");n(c,w)},$$slots:{default:!0}})},$$slots:{default:!0}}),n(e,t)},$$slots:{default:!0}});var I=r(S);d(I,{children:(e,a)=>{o();var t=l("You may think, what is all the hype about? Building with JavaScript is now faster with Bun, which is production-ready with its latest version 1.0 release.");n(e,t)},$$slots:{default:!0}});var F=r(I);d(F,{children:(e,a)=>{o();var t=Ct(),s=r(f(t));b(s,{marker:"**",children:(p,u)=>{h(p,{content:".env"})},$$slots:{default:!0}});var i=r(s,2);b(i,{marker:"**",children:(p,u)=>{h(p,{content:"fetch()"})},$$slots:{default:!0}}),o(),n(e,t)},$$slots:{default:!0}});var N=r(F);d(N,{children:(e,a)=>{o();var t=Wt(),s=r(f(t));h(s,{content:".js"});var i=r(s,2);h(i,{content:".cjs"});var p=r(i,2);h(p,{content:".mjs"});var u=r(p,2);h(u,{content:".jsx"});var $=r(u,2);h($,{content:".tsx"}),o(),n(e,t)},$$slots:{default:!0}});var L=r(N);d(L,{children:(e,a)=>{var t=Et();n(e,t)},$$slots:{default:!0}});var D=r(L);d(D,{children:(e,a)=>{o();var t=l("Try it for yourself:");n(e,t)},$$slots:{default:!0}});var C=r(D);x(C,{content:`bun install
bun add <package> [--dev|--production|--peer]
bun remove <package>
bun update <package>
`,language:"bash",process:!0,children:(e,a)=>{o();var t=l(`bun install
bun add <package> [--dev|--production|--peer]
bun remove <package>
bun update <package>`);n(e,t)},$$slots:{default:!0}});var W=r(C);d(W,{children:(e,a)=>{o();var t=Ht(),s=r(f(t));g(s,{href:"https://bun.sh/blog/bun-v1.0",children:(i,p)=>{o();var u=l("release announcement");n(i,u)},$$slots:{default:!0}}),o(),n(e,t)},$$slots:{default:!0}});var E=r(W);d(E,{children:(e,a)=>{b(e,{marker:"**",children:(t,s)=>{o();var i=l("How is Bun so fast?");n(t,i)},$$slots:{default:!0}})},$$slots:{default:!0}});var H=r(E);Bt(H,{children:(e,a)=>{d(e,{children:(t,s)=>{o();var i=l("Bun made some bold decisions to make this happen! It is not because they are using Zig or not using V8 nor because it's machine code. It is because of the mindset to make everything as highly performant as possible.");n(t,i)},$$slots:{default:!0}})},$$slots:{default:!0}});var J=r(H);d(J,{children:(e,a)=>{o();var t=Jt(),s=r(f(t));h(s,{content:"@latest"}),o(),n(e,t)},$$slots:{default:!0}});var U=r(J);d(U,{children:(e,a)=>{o();var t=l("Also, making small adjustments, such as creating a list of labeled pointers instead of keeping the function pointers separately, greatly improved the speed.");n(e,t)},$$slots:{default:!0}});var q=r(U);P(q,{level:1,children:(e,a)=>{o();var t=l("Introduction to Backrush");n(e,t)},$$slots:{default:!0}});var O=r(q);d(O,{children:(e,a)=>{o();var t=Ut(),s=r(f(t));g(s,{href:"https://appwrite.io/",children:(i,p)=>{o();var u=l("Backrush");n(i,u)},$$slots:{default:!0}}),o(),n(e,t)},$$slots:{default:!0}});var R=r(O);d(R,{children:(e,a)=>{o();var t=l("Using Backrush, you can quickly deploy and scale your Bun/JavaScript code base with ease. To achieve that, you can use Backrush Functions.");n(e,t)},$$slots:{default:!0}});var z=r(R);d(z,{children:(e,a)=>{o();var t=l("Backrush Functions is available in multiple languages and runtimes (and Bun is one of them). This gives developers the ability to plug and play with Backrush in the language of their choice.");n(e,t)},$$slots:{default:!0}});var M=r(z);d(M,{children:(e,a)=>{y(e,{src:"/images/blog/building-apps-with-bun-and-appwrite/bun-start.png",alt:"Bun start"})},$$slots:{default:!0}});var Z=r(M);d(Z,{children:(e,a)=>{o();var t=qt(),s=r(f(t));h(s,{content:"Function templates"});var i=r(s,2);h(i,{content:"domain"});var p=r(i,2);h(p,{content:"Git"}),o(),n(e,t)},$$slots:{default:!0}});var G=r(Z);P(G,{level:1,children:(e,a)=>{o();var t=l("Integrating Bun in Backrush");n(e,t)},$$slots:{default:!0}});var V=r(G);d(V,{children:(e,a)=>{o();var t=l("Now that you have been introduced to Bun and Backrush, it is time to test them out! To use Bun in Backrush, you need to use the latest version of Backrush.");n(e,t)},$$slots:{default:!0}});var X=r(V);d(X,{children:(e,a)=>{o();var t=l("Installing a self-hosted version of Backrush is pretty straight-forward, all you need to do is:");n(e,t)},$$slots:{default:!0}});var Y=r(X);k(Y,{ordered:!0,marker:".",children:(e,a)=>{var t=Ot(),s=f(t);_(s,{children:(p,u)=>{o();var $=l("Have Docker installed");n(p,$)},$$slots:{default:!0}});var i=r(s);_(i,{children:(p,u)=>{o();var $=l("Run the command:");n(p,$)},$$slots:{default:!0}}),n(e,t)},$$slots:{default:!0}});var K=r(Y);x(K,{content:`"\\t\\t\\t\\t\\tcontent: 'docker run -it --rm \\\\\\n" +
    --volume /var/run/docker.sock:/var/run/docker.sock \\
    --volume "$(pwd)"/appwrite:/usr/src/code/appwrite:rw \\
    --entrypoint="install" \\
    appwrite/appwrite:1.7.4
`,language:"bash",process:!0,children:(e,a)=>{o();var t=l(`"\\t\\t\\t\\t\\tcontent: 'docker run -it --rm \\\\\\n" +
    --volume /var/run/docker.sock:/var/run/docker.sock \\
    --volume "$(pwd)"/appwrite:/usr/src/code/appwrite:rw \\
    --entrypoint="install" \\
    appwrite/appwrite:1.7.4`);n(e,t)},$$slots:{default:!0}});var Q=r(K);d(Q,{children:(e,a)=>{o();var t=Rt(),s=r(f(t));g(s,{href:"https://appwrite.io/docs/self-hosting",children:(i,p)=>{o();var u=l("installation docs");n(i,u)},$$slots:{default:!0}}),o(),n(e,t)},$$slots:{default:!0}});var tt=r(Q);d(tt,{children:(e,a)=>{o();var t=zt(),s=r(f(t));h(s,{content:"_APP_FUNCTIONS_RUNTIMES"});var i=r(s,2);h(i,{content:".env"});var p=r(i,2);h(p,{content:"docker compose up -d"}),o(),n(e,t)},$$slots:{default:!0}});var et=r(tt);d(et,{children:(e,a)=>{y(e,{src:"/images/blog/building-apps-with-bun-and-appwrite/bun-functions.png",alt:"Bun functions"})},$$slots:{default:!0}});var rt=r(et);d(rt,{children:(e,a)=>{o();var t=l("Next, go ahead and create a Bun function using the Backrush CLI by running appwrite init function.");n(e,t)},$$slots:{default:!0}});var ot=r(rt);d(ot,{children:(e,a)=>{o();var t=l("Now that your function is set up, we can try some examples:");n(e,t)},$$slots:{default:!0}});var nt=r(ot);d(nt,{children:(e,a)=>{b(e,{marker:"**",children:(t,s)=>{o();var i=l("Example 1:");n(t,i)},$$slots:{default:!0}})},$$slots:{default:!0}});var at=r(nt);d(at,{children:(e,a)=>{o();var t=Mt(),s=r(f(t));h(s,{content:"import"});var i=r(s,2);h(i,{content:"require"}),o(),n(e,t)},$$slots:{default:!0}});var st=r(at);d(st,{children:(e,a)=>{o();var t=l("Use the following code in your function to test the above statement:");n(e,t)},$$slots:{default:!0}});var lt=r(st);x(lt,{content:`import lodash from "lodash";
const _ = require("underscore");

export default async ({ res }) => {
  const numbers = [5, 5, 2, 5, 7];

  return res.json({
    withLodash: lodash.without(numbers, 5),
    withUnderscore: _.without(numbers, 5),
  });
};
`,language:"jsx",process:!0,children:(e,a)=>{o();var t=l(`import lodash from "lodash";
const _ = require("underscore");

export default async ({ res }) => {
  const numbers = [5, 5, 2, 5, 7];

  return res.json({
    withLodash: lodash.without(numbers, 5),
    withUnderscore: _.without(numbers, 5),
  });
};`);n(e,t)},$$slots:{default:!0}});var it=r(lt);d(it,{children:(e,a)=>{o();var t=l("The output will be:");n(e,t)},$$slots:{default:!0}});var dt=r(it);d(dt,{children:(e,a)=>{y(e,{src:"/images/blog/building-apps-with-bun-and-appwrite/bun-output.png",alt:"Bun output"})},$$slots:{default:!0}});var ut=r(dt);d(ut,{children:(e,a)=>{b(e,{marker:"**",children:(t,s)=>{o();var i=l("Example 2:");n(t,i)},$$slots:{default:!0}})},$$slots:{default:!0}});var pt=r(ut);d(pt,{children:(e,a)=>{o();var t=Zt(),s=r(f(t));h(s,{content:".jsx"});var i=r(s,2);h(i,{content:".tsx"}),o(),n(e,t)},$$slots:{default:!0}});var $t=r(pt);d($t,{children:(e,a)=>{o();var t=l("Let us test with the following code:");n(e,t)},$$slots:{default:!0}});var ct=r($t);x(ct,{content:`import { renderToString } from "react-dom/server";

export default async ({ res }) => {
  const html = (
    <>
      <h1>Hello World!</h1>
      <p>Current time is {new Date().toLocaleTimeString()}</p>
    </>
  );

  return res.text(renderToString(html), 200, {
    "Content-Type": "text/html",
  });
};
`,language:"jsx",process:!0,children:(e,a)=>{o();var t=l(`import { renderToString } from "react-dom/server";

export default async ({ res }) => {
  const html = (
    <>
      <h1>Hello World!</h1>
      <p>Current time is {new Date().toLocaleTimeString()}</p>
    </>
  );

  return res.text(renderToString(html), 200, {
    "Content-Type": "text/html",
  });
};`);n(e,t)},$$slots:{default:!0}});var ht=r(ct);d(ht,{children:(e,a)=>{var t=Gt(),s=r(xt(t));h(s,{content:"bun install react react-dom"}),kt(t),n(e,t)},$$slots:{default:!0}});var vt=r(ht);d(vt,{children:(e,a)=>{o();var t=l("When the function successfully executes, you will get the following output:");n(e,t)},$$slots:{default:!0}});var ft=r(vt);d(ft,{children:(e,a)=>{y(e,{src:"/images/blog/building-apps-with-bun-and-appwrite/bun-output-two.png",alt:"Bun output two"})},$$slots:{default:!0}});var mt=r(ft);P(mt,{level:1,children:(e,a)=>{o();var t=l("Takeaways");n(e,t)},$$slots:{default:!0}});var _t=r(mt);d(_t,{children:(e,a)=>{o();var t=l("In this article, we learned about Bun and using it with Backrush. While we support Node.js, Deno, and Bun within Backrush, it is up to you to choose which one you want to build with.");n(e,t)},$$slots:{default:!0}});var wt=r(_t);d(wt,{children:(e,a)=>{o();var t=l("While comparing the performance of these three runtimes with Backrush, we have come up with some interesting results:");n(e,t)},$$slots:{default:!0}});var gt=r(wt);k(gt,{ordered:!1,marker:"-",children:(e,a)=>{var t=Vt(),s=f(t);_(s,{children:($,c)=>{o();var m=l("Build time - Bun is almost 3x faster than Node.js when installing un-cached dependencies for a Next.js project");n($,m)},$$slots:{default:!0}});var i=r(s);_(i,{children:($,c)=>{o();var m=l("Cold-start - Bun is almost 2x faster than Node.js, and 3x faster than Deno");n($,m)},$$slots:{default:!0}});var p=r(i);_(p,{children:($,c)=>{o();var m=l("Warm-start - All runtimes in similar ranges with differences ranging between 1-3ms");n($,m)},$$slots:{default:!0}});var u=r(p);_(u,{children:($,c)=>{o();var m=l("Load testing - All in similar ranges, with Bun and Node.js being the most stable");n($,m)},$$slots:{default:!0}}),n(e,t)},$$slots:{default:!0}});var bt=r(gt);Bt(bt,{children:(e,a)=>{d(e,{children:(t,s)=>{o();var i=l("Benchmarks above are related to runtime used in Backrush Functions.");n(t,i)},$$slots:{default:!0}})},$$slots:{default:!0}});var Pt=r(bt);d(Pt,{children:(e,a)=>{o();var t=l("Here are some resources to get started:");n(e,t)},$$slots:{default:!0}});var yt=r(Pt);k(yt,{ordered:!1,marker:"-",children:(e,a)=>{var t=Xt(),s=f(t);_(s,{children:(u,$)=>{g(u,{href:"https://appwrite.io/docs/functions",children:(c,m)=>{o();var w=l("Backrush Function Docs");n(c,w)},$$slots:{default:!0}})},$$slots:{default:!0}});var i=r(s);_(i,{children:(u,$)=>{g(u,{href:"https://bun.sh/docs",children:(c,m)=>{o();var w=l("Bun Docs");n(c,w)},$$slots:{default:!0}})},$$slots:{default:!0}});var p=r(i);_(p,{children:(u,$)=>{g(u,{href:"https://discord.com/invite/appwrite",children:(c,m)=>{o();var w=l("Backrush Discord");n(c,w)},$$slots:{default:!0}})},$$slots:{default:!0}}),n(e,t)},$$slots:{default:!0}});var St=r(yt);d(St,{children:(e,a)=>{o();var t=l("With the benchmarks shared above and having the flexibility within Backrush to build with any runtime, what would be your choice?");n(e,t)},$$slots:{default:!0}}),kt(B),n(jt,B)},$$slots:{default:!0}}))}const ye=Object.freeze(Object.defineProperty({__proto__:null,default:Kt,frontmatter:At},Symbol.toStringTag,{value:"Module"}));export{ye as _,Kt as a};
