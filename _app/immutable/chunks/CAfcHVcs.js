import{c as X,a as G,t as J}from"./Cw4I5osi.js";import{ax as q,ay as ve,H as me,I as _e,J as we,X as xe,az as be,i as se,s as ye,u as Ie,o as Te,j as He,k as Oe,v as ke,d as oe,c as Le,t as Ae}from"./BzVk5r6l.js";import{p as ie,f as Z,a as ne,I as Ee,j as Be,c as T,r as H,g as v,d as R,W as Ce,s as W,t as Q,l as Se,b as Me,O as je,e as Fe,m as Ue}from"./NgVQVlRK.js";import{p as O,i as ee,b as re,j as te,a as Y}from"./B4IyMRKX.js";import{h as Ge}from"./CbbZjpT6.js";import{p as ze}from"./Bfc47y5P.js";import{w as le,d as De,o as Ne}from"./DcOM_HI-.js";import{c as Pe}from"./CLaWgqK5.js";/* empty css        */const $e={exclude:["h1"],scrollOffset:0,scrollBehaviour:"smooth",activeType:"lowest"};function qe(k){const c={...$e,...k},{selector:m,exclude:C,activeType:p,rootMargin:L,scrollBehaviour:_,scrollOffset:h,headingFilterFn:A,scrollFn:z,pushStateFn:S}=c,{name:P}=xe("table-of-contents"),D=["h1","h2","h3","h4","h5","h6"];let o=[],g=[],w={},d={};const M=q.writable([]),E=q.writable([]);let B=null,l=null,a=null;const x=.01,f=q(le([])),b=q(le([]));function y(s){let e=[],i=[];const t=D.filter(n=>!C.includes(n)),u=s==null?void 0:s.querySelectorAll(t.join(", "));return u==null||u.forEach(n=>{if(!n.id){const r=n.innerText.replaceAll(/[^a-zA-Z0-9 ]/g,"").replaceAll(" ","-").toLowerCase();n.id=`${r}`}e.push(n)}),e=[...e],A&&(e=e.filter(n=>A(n))),i=[].slice.call(s==null?void 0:s.getElementsByTagName("*")),i=i.filter(n=>t.includes(n.nodeName.toLowerCase())||n.children.length===0),i.splice(0,i.indexOf(e[0])),{headingsList:e,elementsList:i}}function N(s,e=0){const i=[];let t=0;for(;t<s.length;){const u={title:s[t].innerText,index:e+t,id:s[t].id,node:s[t],children:[]};let n=t+1;for(;n<s.length&&parseInt(s[n].tagName.charAt(1))>parseInt(s[t].tagName.charAt(1));)n++;u.children=N(s.slice(t+1,n),e+t+1),i.push(u),t=n}return i}function j(s){const e=document.getElementById(s);if(e){const t=e.getBoundingClientRect().top+window.scrollY-h;window.scrollTo({top:t,behavior:_})}}const I=p==="highest-parents"||p==="lowest-parents"||p==="all-parents";function F(s){for(let t=0;t<s.length;t++){const u=g.indexOf(s[t].target),n=w[u];let r=E.get();s[t].intersectionRatio>=x?r.indexOf(u)===-1&&(r=[...r,u],E.set(r),I&&d[n]&&M.update($=>[...$,...d[n]])):(r=r.filter($=>$!==u),E.set(r),I&&d[n]&&M.update($=>{var ae;const V=[...$];return(ae=d[n])==null||ae.forEach(pe=>{const ge=V.indexOf(pe);V.splice(ge,1)}),V}))}const e=Array.from(new Set(E.get().map(t=>w[t])));let i;if(e.length===0)i=[];else switch(p){case"highest":i=[Math.min(...e)];break;case"lowest":i=[Math.max(...e)];break;case"all":i=e;break;case"all-parents":{const t=e.flatMap(u=>d[u]??[]);i=[...e,...t];break}default:{const t=p==="highest-parents"?Math.min(...e):Math.max(...e);d[t]?i=[...d[t],t]:i=[t]}}f.set(i)}function U(){a==null||a.disconnect(),o.forEach((s,e)=>{d[e]=null;let i=s.tagName,t=[];for(let r=e-1;r>=0;r--)o[r].tagName<i&&(i=o[r].tagName,t=[...t,r]);d[e]=t.length>0?t:null;const u=g.indexOf(o[e]),n=e!==o.length-1?g.indexOf(o[e+1]):g.length;for(let r=u;r<n;r++)w[r]=e}),b.set(N(o)),p!=="none"&&(a=new IntersectionObserver(F,{root:null,threshold:x,rootMargin:L}),g.forEach(s=>a==null?void 0:a.observe(s)))}function K(){const s=document.querySelector(m);if(!s)return;const{headingsList:e,elementsList:i}=y(s);be(o,e)||(o=e,g=i,d={},w={},U())}ve(()=>{if(B=document.querySelector(m),!!B)return{headingsList:o,elementsList:g}=y(B),U(),l=new MutationObserver(K),l.observe(B,{childList:!0,subtree:!0}),()=>{a==null||a.disconnect(),l==null||l.disconnect()}});const fe=me(P("item"),{stores:f,returned:s=>e=>{const i=o.findIndex(u=>u.id===e),t=s.includes(i);return{"data-id":e,"data-active":t?"":void 0}},action:s=>{const e=s.getAttribute("data-id");return{destroy:_e(we(s,"click",t=>{t.preventDefault(),z?z(`${e}`):j(`${e}`),e&&(S?S(`#${e}`,{}):history.pushState({},"",`#${e}`))}))}}}),he=De(f,s=>e=>{const i=o.findIndex(t=>t.id===e);return s.includes(i)});return{elements:{item:fe},states:{activeHeadingIdxs:f,headingsTree:b},helpers:{isActive:he}}}const ce=Symbol(),Re=k=>{Ee(ce,k)},de=()=>Be(ce);function at(k,c){ie(c,!1);let m=O(c,"selector",8,"#main"),C=O(c,"exclude",24,()=>["h1","h3","h4","h5","h6"]),p=O(c,"activeType",8,"highest"),L=O(c,"scrollOffset",8,0);const _=qe({selector:m(),exclude:C(),activeType:p(),scrollOffset:L()});Re({toc:_}),se();var h=X(),A=Z(h);ye(A,c,"default",{},null),G(k,h),ne()}var We=J("<li><a><!></a> <!></li>"),Ye=J('<ul class="web-page-steps-list text-sub-body font-medium"><!></ul>');function ue(k,c){ie(c,!1);const[m,C]=re(),p=()=>Y(A(),"$item",m),L=()=>Y(P,"$isActive",m);let _=O(c,"tree",24,()=>[]),h=O(c,"activeHeadingIdxs",8),A=O(c,"item",8),z=O(c,"level",8,1),S=O(c,"showToc",12,!0);const{toc:{helpers:{isActive:P}}}=de();function D(){window.innerWidth>=1024||S(!S())}se();var o=Ye(),g=T(o);{var w=d=>{var M=X(),E=Z(M);Ie(E,1,_,ke,(B,l)=>{var a=We();const x=R(()=>p()(v(l).id));var f=T(a);let b;var y=T(f);Ge(y,()=>v(l).node.innerHTML),H(f),Te(f,I=>{var F,U;return(U=(F=v(x)).action)==null?void 0:U.call(F,I)}),Ce(()=>te("click",f,ze(D)));var N=W(f,2);{var j=I=>{var F=X(),U=Z(F);const K=R(()=>z()+1);ue(U,{get tree(){return v(l).children},get level(){return v(K)},get activeHeadingIdxs(){return h()},get item(){return A()}}),G(I,F)};ee(N,I=>{v(l).children&&v(l).children.length&&I(j)})}H(a),Q(I=>b=He(f,b,{href:`#${v(l).id??""}`,...v(x),[Oe]:I}),[()=>({"is-selected":L()(v(l).id)})],R),G(B,a)}),G(d,M)};ee(g,d=>{_()&&_().length&&d(w)})}H(o),G(k,o),ne(),C()}var Je=J('<aside><div class="web-page-steps"><div class="web-page-steps-location web-is-not-mobile"><span class="web-page-steps-location-button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_1684_10747)"><g filter="url(#filter0_b_1684_10747)"><circle cx="8" cy="8" r="8" fill="url(#paint0_linear_1684_10747)" fill-opacity="0.32"></circle><circle cx="8" cy="8" r="7.75" stroke="url(#paint1_linear_1684_10747)" stroke-width="0.5"></circle></g><circle cx="8" cy="7.99219" r="3" fill="white"></circle></g><defs><filter id="filter0_b_1684_10747" x="-200" y="-200" width="416" height="416" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feGaussianBlur in="BackgroundImageFix" stdDeviation="100"></feGaussianBlur><feComposite in2="SourceAlpha" operator="in" result="effect1_backgroundBlur_1684_10747"></feComposite><feBlend mode="normal" in="SourceGraphic" in2="effect1_backgroundBlur_1684_10747" result="shape"></feBlend></filter><linearGradient id="paint0_linear_1684_10747" x1="2.02105" y1="1.10843" x2="16.3872" y2="17.2901" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0.4"></stop><stop offset="1" stop-color="white" stop-opacity="0"></stop></linearGradient><linearGradient id="paint1_linear_1684_10747" x1="7.45643" y1="-1.10615" x2="5.53812" y2="17.9973" gradientUnits="userSpaceOnUse"><stop stop-color="white" stop-opacity="0.16"></stop><stop offset="1" stop-color="white" stop-opacity="0"></stop></linearGradient><clipPath id="clip0_1684_10747"><rect width="16" height="16" fill="white"></rect></clipPath></defs></svg></span></div> <div class="toc-tree-holder svelte-o0z42t"><!></div></div></aside>'),Ke=J('<section class="web-mobile-header svelte-o0z42t"><div class="web-is-only-mobile"><button class="flex w-full items-center justify-between"><span class="flex w-full items-center justify-between"><span class="text-description">Table of contents</span> <span aria-hidden="true"></span></span></button></div> <!></section>');function ot(k,c){ie(c,!1);const[m,C]=re(),p=()=>Y(z,"$activeHeadingIdxs",m),L=()=>Y(S,"$headingsTree",m),_=Ue();let h=O(c,"showToc",12,!0);const{toc:{elements:{item:A},states:{activeHeadingIdxs:z,headingsTree:S}}}=de();function P(l,{delay:a=0,duration:x=400,easing:f=Pe}={}){const b=l.offsetHeight;return{delay:a,duration:x,easing:f,css:y=>`
                    opacity: ${y};
                    height: ${y*b}px;
                    overflow: hidden;
                `}}function D(){h(window.innerWidth>=1024)}Ne(D),Se(()=>(p(),L()),()=>{Fe(_,Math.max(...p())/(L().length-1))}),Me(),se();var o=Ke();te("resize",je,D);var g=T(o),w=T(g),d=T(w),M=W(T(d),2);H(d),H(w),H(g);var E=W(g,2);{var B=l=>{var a=Je();let x;var f=T(a),b=T(f),y=W(b,2),N=T(y);ue(N,{get tree(){return L()},get activeHeadingIdxs(){return p()},item:A,get showToc(){return h()},set showToc(j){h(j)},$$legacy:!0}),H(y),H(f),H(a),Q(j=>{x=oe(a,1,"web-grid-120-1fr-auto-side",null,x,j),Le(b,`--location:${v(_)*100}%;`)},[()=>({"web-is-mobile-closed":!h()})],R),Ae(3,a,()=>P,()=>({duration:300})),G(l,a)};ee(E,l=>{h()&&l(B)})}H(o),Q(()=>oe(M,1,`toggle-icon ${h()?"web-icon-close":"icon-menu-alt-4"}`,"svelte-o0z42t")),te("click",w,()=>h(!h())),G(k,o),ne(),C()}export{at as T,ot as a};
