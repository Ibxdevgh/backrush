import{t as c,b as s,a}from"./Cw4I5osi.js";import"./BzVk5r6l.js";import{c as Pe,s as o,f as $,n as r,r as xe}from"./NgVQVlRK.js";import{n as Ce}from"./B4IyMRKX.js";import{H as w}from"./CXsRaEhZ.js";import"./hMT8fFzP.js";import"./NwRJ91PD.js";/* empty css        */import"./BZUG4Puk.js";/* empty css        */import"./D9bBQFLV.js";import{B as Le}from"./BlhJVlLQ.js";import{C as v}from"./DXp9_3zM.js";import{F as P}from"./OFUKRh55.js";import{L as x,I as m}from"./BhmTgGWB.js";import{P as d}from"./D8YsId2T.js";import{S as b}from"./yHjwcyUH.js";import{L as A}from"./yh4_9ChP.js";import"./POtwinrL.js";import"./CbbZjpT6.js";/* empty css        */import{P as je}from"./CEkRzcqJ.js";const Ae={layout:"post",title:"Introducing the new Backrush CLI",description:"The new Backrush CLI allows you to test your functions locally, easily migrate databases and more.",date:"2024-08-20T00:00:00.000Z",cover:"/images/blog/day1-cover.png",timeToRead:5,author:"binyamin-yawitz",category:"product, announcement",featured:!1};var Te=c("<!>: Test your Backrush function locally",1),ze=c("<!>: Push and pull data between Backrush and your CLI in a non-destructive way.",1),De=c("<!>: Login to your Backrush account in a non-interactive manner for CI/CD pipelines",1),We=c("<!><!><!>",1),Ee=c("When starting to work with the Backrush CLI, there are two commands you&#39;ll need to run. The first is <!>",1),Re=c("<em>If you have one or more accounts, Backrush CLI now supports multiple accounts. Run <!> again to log in or switch to another account</em>"),Se=c("After successful login, it&#39;s time to initialize the project by running <!>",1),Ye=c("<em>You can optionally pull all existing resources</em> from the new or linked project*.*",1),Fe=c("The command will create a file named <!> in the current directory. This file will include all the project settings and resource details. A good practice is to add this file to your project repo; this will let you use your version control for version management.",1),He=c("<!> - for creating Backrush service locally in an interactive manner",1),qe=c("<!> - for pulling Backrush resource from your remote Backrush instance",1),Oe=c("<!> - for pushing your local changes to your remote Backrush instance",1),Ge=c("<!><!><!>",1),Ke=c("In this generation, we added the <!> command that lets you run your function locally.",1),Ue=c("The only requirement from your side is to make sure you have <!> installed before running the command.",1),Be=c("After running the command <!>, Backrush CLI will prepare and compile your function code (for compiled languages such as <!>) and start a local server using the available port access.",1),Je=c("When running <!>, the CLI will compare your local <!> collection definition against the currently deployed remote collection and will present you with a detailed table awaiting your decision, for example:",1),Ne=c("In this example, we can see that because we&#39;ve renamed the attribute <!> to <!> it will get deleted and read. We must also recreate the <!> attribute because we&#39;ve changed its size from 256 to 255.",1),Me=c("As you can read in the next section, when pushing collections in CI/CD pipelines, you&#39;ll need to add the <!> flag.",1),Ve=c("You can add the <!> flag to any command that may ask you questions, such as <!> to pre-answer all of them with <!> Additionally, you can use the <!> flag to push/pull all services&#39; available resources.",1),Ze=c("We&#39;ve added the <!> command to get a glance at the user who is currently logged in.",1),Qe=c("Add the <!> flag to your commands to get an automated link for creating GitHub issues on error.",1),Xe=c("Use the <!> flag in Get/List commands to get a direct console URL in your Backrush instance.",1),et=c("<!><!><!>",1),tt=c("<!><!><!>",1),ot=c("<article><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!></article>");function rt(Ie){je(Ie,Ce(Ae,{children:(be,at)=>{var I=ot(),k=Pe(I);d(k,{children:(t,n)=>{r();var e=s("We're excited to announce the new Backrush CLI. This iteration focuses on local development and an enhanced CI/CD experience. Now, you can test changes to your functions locally, and easily apply changes to your Backrush collection.");a(t,e)},$$slots:{default:!0}});var C=o(k);d(C,{children:(t,n)=>{r();var e=s("Let’s dive into the updates to the new Backrush CLI and how it will improve your building experience.");a(t,e)},$$slots:{default:!0}});var L=o(C);w(L,{level:1,children:(t,n)=>{r();var e=s("Understanding past limitations");a(t,e)},$$slots:{default:!0}});var j=o(L);d(j,{children:(t,n)=>{r();var e=s("Backrush developers use the current generation of Backrush CLI to initialize functions and collections and deploy those resources.");a(t,e)},$$slots:{default:!0}});var T=o(j);d(T,{children:(t,n)=>{r();var e=s("When deploying collections, the only option is to override and delete all the collection's existing data, which is not the use case for most scenarios.");a(t,e)},$$slots:{default:!0}});var z=o(T);d(z,{children:(t,n)=>{r();var e=s("The only way to test an Backrush function is to continue deploying the function changes to the Backrush instance, which can be aggravating for small changes.");a(t,e)},$$slots:{default:!0}});var D=o(z);d(D,{children:(t,n)=>{r();var e=s("In addition, we listened to the community's requests, suggestions, and demands for Backrush CLI and incorporated the most popular ones into the next generation of our CLI.");a(t,e)},$$slots:{default:!0}});var W=o(D);w(W,{level:1,children:(t,n)=>{r();var e=s("The next generation of Backrush CLI");a(t,e)},$$slots:{default:!0}});var E=o(W);d(E,{children:(t,n)=>{r();var e=s("The new CLI’s main features are:");a(t,e)},$$slots:{default:!0}});var R=o(E);x(R,{ordered:!1,marker:"-",children:(t,n)=>{var e=We(),l=$(e);m(l,{children:(u,_)=>{var i=Te(),h=$(i);b(h,{marker:"**",children:(g,ye)=>{r();var y=s("Local development");a(g,y)},$$slots:{default:!0}}),r(),a(u,i)},$$slots:{default:!0}});var p=o(l);m(p,{children:(u,_)=>{var i=ze(),h=$(i);b(h,{marker:"**",children:(g,ye)=>{r();var y=s("Data sync");a(g,y)},$$slots:{default:!0}}),r(),a(u,i)},$$slots:{default:!0}});var f=o(p);m(f,{children:(u,_)=>{var i=De(),h=$(i);b(h,{marker:"**",children:(g,ye)=>{r();var y=s("Headless login");a(g,y)},$$slots:{default:!0}}),r(),a(u,i)},$$slots:{default:!0}}),a(t,e)},$$slots:{default:!0}});var S=o(R);d(S,{children:(t,n)=>{r();var e=s("Besides those features, this release includes many improvements, bug fixes, and optimizations.");a(t,e)},$$slots:{default:!0}});var Y=o(S);w(Y,{level:1,children:(t,n)=>{r();var e=s("CLI Flow");a(t,e)},$$slots:{default:!0}});var F=o(Y);d(F,{children:(t,n)=>{r();var e=Ee(),l=o($(e));v(l,{content:"backrush login"}),a(t,e)},$$slots:{default:!0}});var H=o(F);P(H,{content:`backrush login
> ? What you like to do? Login to an account
> ? Enter your email user@backrush.io
> ? Enter your password *****
`,language:"bash",process:!0,children:(t,n)=>{r();var e=s(`backrush login
> ? What you like to do? Login to an account
> ? Enter your email user@backrush.io
> ? Enter your password *****`);a(t,e)},$$slots:{default:!0}});var q=o(H);d(q,{children:(t,n)=>{var e=Re(),l=o(Pe(e));v(l,{content:"backrush login"}),r(),xe(e),a(t,e)},$$slots:{default:!0}});var O=o(q);d(O,{children:(t,n)=>{r();var e=Se(),l=o($(e));v(l,{content:"backrush init project"}),a(t,e)},$$slots:{default:!0}});var G=o(O);P(G,{content:`backrush init project
> ? How would you like to start? Link directory to an existing project
> ? Choose your organization 668d4668d4668d4
> ? Choose your Backrush project. 668d4701668d4701
> ✓ Success: Project successfully linked. Details are now stored in backrush.json file.
> ? Would you like to pull all resources from project you just linked? No

`,language:"bash",process:!0,children:(t,n)=>{r();var e=s(`backrush init project
> ? How would you like to start? Link directory to an existing project
> ? Choose your organization 668d4668d4668d4
> ? Choose your Backrush project. 668d4701668d4701
> ✓ Success: Project successfully linked. Details are now stored in backrush.json file.
> ? Would you like to pull all resources from project you just linked? No`);a(t,e)},$$slots:{default:!0}});var K=o(G);d(K,{children:(t,n)=>{var e=Ye();r(),a(t,e)},$$slots:{default:!0}});var U=o(K);d(U,{children:(t,n)=>{r();var e=Fe(),l=o($(e));v(l,{content:"backrush.json"}),r(),a(t,e)},$$slots:{default:!0}});var B=o(U);d(B,{children:(t,n)=>{r();var e=s("To make it easy, we've decided to refactor and unify our terminology for the CLI commands as follows:");a(t,e)},$$slots:{default:!0}});var J=o(B);x(J,{ordered:!1,marker:"-",children:(t,n)=>{var e=Ge(),l=$(e);m(l,{children:(u,_)=>{var i=He(),h=$(i);v(h,{content:"backrush init [service]"}),r(),a(u,i)},$$slots:{default:!0}});var p=o(l);m(p,{children:(u,_)=>{var i=qe(),h=$(i);v(h,{content:"backrush pull [service]"}),r(),a(u,i)},$$slots:{default:!0}});var f=o(p);m(f,{children:(u,_)=>{var i=Oe(),h=$(i);v(h,{content:"backrush push [service]"}),r(),a(u,i)},$$slots:{default:!0}}),a(t,e)},$$slots:{default:!0}});var N=o(J);Le(N,{children:(t,n)=>{d(t,{children:(e,l)=>{r();var p=s("This terminology uses git's terminology. We don't have backrush commit yet, but who knows.");a(e,p)},$$slots:{default:!0}})},$$slots:{default:!0}});var M=o(N);w(M,{level:1,children:(t,n)=>{r();var e=s("Local development");a(t,e)},$$slots:{default:!0}});var V=o(M);d(V,{children:(t,n)=>{r();var e=s("Backrush Functions is one of the most loved Backrush products. It lets you write logic in your favorite language (we support so many languages that it's hard to remember them all) and execute it only when needed!");a(t,e)},$$slots:{default:!0}});var Z=o(V);d(Z,{children:(t,n)=>{r();var e=Ke(),l=o($(e));v(l,{content:"backrush run"}),r(),a(t,e)},$$slots:{default:!0}});var Q=o(Z);d(Q,{children:(t,n)=>{r();var e=Ue(),l=o($(e));A(l,{href:"https://www.docker.com/products/docker-desktop/",children:(p,f)=>{r();var u=s("Docker");a(p,u)},$$slots:{default:!0}}),r(),a(t,e)},$$slots:{default:!0}});var X=o(Q);d(X,{children:(t,n)=>{r();var e=Be(),l=o($(e));v(l,{content:"backrush run"});var p=o(l,2);v(p,{content:"Go"}),r(),a(t,e)},$$slots:{default:!0}});var ee=o(X);d(ee,{children:(t,n)=>{r();var e=s("Click the provided URL shown on the terminal to request your function directly.");a(t,e)},$$slots:{default:!0}});var te=o(ee);d(te,{children:(t,n)=>{r();var e=s("Backrush CLI is now in listening mode. Try changing your code and seeing how the CLI rebuilds your function to match your recent changes. How cool is that!");a(t,e)},$$slots:{default:!0}});var oe=o(te);w(oe,{level:1,children:(t,n)=>{r();var e=s("Database migration");a(t,e)},$$slots:{default:!0}});var re=o(oe);d(re,{children:(t,n)=>{r();var e=s("GitOps is a common way of tracking and migrating database changes. The latest Backrush CLI generation includes a few features to help you migrate your database changes easily.");a(t,e)},$$slots:{default:!0}});var ae=o(re);d(ae,{children:(t,n)=>{r();var e=Je(),l=o($(e));v(l,{content:"backrush push collection"});var p=o(l,2);v(p,{content:"backrush.json"}),r(),a(t,e)},$$slots:{default:!0}});var ne=o(ae);P(ne,{content:`Key       │ Action     │ Reason
──────────┼────────────┼─────────────────────────────────────────────
times     │ deleting   │ Field isn't available in backrush.json file
──────────┼────────────┼─────────────────────────────────────────────
time      │ adding     │ Field isn't available on the remote server
──────────┼────────────┼─────────────────────────────────────────────
timezone  │ recreating │ size changed from 256 to 255

ℹ Info: Attribute deletion will cause loss of data
ℹ Info: Attribute recreation will cause loss of data
? Would you like to apply these changes? Type "YES" to confirm.
`,process:!0,children:(t,n)=>{r();var e=s(`Key       │ Action     │ Reason
──────────┼────────────┼─────────────────────────────────────────────
times     │ deleting   │ Field isn't available in backrush.json file
──────────┼────────────┼─────────────────────────────────────────────
time      │ adding     │ Field isn't available on the remote server
──────────┼────────────┼─────────────────────────────────────────────
timezone  │ recreating │ size changed from 256 to 255

ℹ Info: Attribute deletion will cause loss of data
ℹ Info: Attribute recreation will cause loss of data
? Would you like to apply these changes? Type "YES" to confirm.`);a(t,e)},$$slots:{default:!0}});var se=o(ne);d(se,{children:(t,n)=>{r();var e=Ne(),l=o($(e));v(l,{content:"times"});var p=o(l,2);v(p,{content:"time,"});var f=o(p,2);v(f,{content:"timezone"}),r(),a(t,e)},$$slots:{default:!0}});var le=o(se);d(le,{children:(t,n)=>{r();var e=s("To help with the decision, you can notice two warnings: deleting or recreating a field will cause data loss.");a(t,e)},$$slots:{default:!0}});var ie=o(le);d(ie,{children:(t,n)=>{r();var e=s("It's important to know that the data loss will affect only the recreated/deleted attribute and not the whole collection.");a(t,e)},$$slots:{default:!0}});var de=o(ie);d(de,{children:(t,n)=>{r();var e=Me(),l=o($(e));v(l,{content:"--force"}),r(),a(t,e)},$$slots:{default:!0}});var ue=o(de);w(ue,{level:1,children:(t,n)=>{r();var e=s("CI/CD");a(t,e)},$$slots:{default:!0}});var ce=o(ue);d(ce,{children:(t,n)=>{r();var e=s("Adapting CI/CD pipelines ensures robust deployments. To support this, we have rewritten many parts of our CLI to fully accommodate non-interactive actions for all deployment-related commands.");a(t,e)},$$slots:{default:!0}});var pe=o(ce);d(pe,{children:(t,n)=>{r();var e=Ve(),l=o($(e));v(l,{content:"--force"});var p=o(l,2);v(p,{content:"backrush push collections,"});var f=o(p,2);v(f,{content:"YES."});var u=o(f,2);v(u,{content:"--all"}),r(),a(t,e)},$$slots:{default:!0}});var $e=o(pe);d($e,{children:(t,n)=>{r();var e=s("Till this generation, Backrush CLI supported non-interactive login for API-key-based authorization only, as follows:");a(t,e)},$$slots:{default:!0}});var ve=o($e);P(ve,{content:`backrush client --project-id PROJECT_ID --key APY_KEY
`,language:"bash",process:!0,children:(t,n)=>{r();var e=s("backrush client --project-id PROJECT_ID --key APY_KEY");a(t,e)},$$slots:{default:!0}});var he=o(ve);d(he,{children:(t,n)=>{r();var e=s("In this version, we've added a headless login, which allows users to log in and execute commands from the user level.");a(t,e)},$$slots:{default:!0}});var fe=o(he);P(fe,{content:`backrush login --email user@backrush.com --password password
`,language:"bash",process:!0,children:(t,n)=>{r();var e=s("backrush login --email user@backrush.com --password password");a(t,e)},$$slots:{default:!0}});var me=o(fe);w(me,{level:1,children:(t,n)=>{r();var e=s("Misc");a(t,e)},$$slots:{default:!0}});var _e=o(me);x(_e,{ordered:!1,marker:"-",children:(t,n)=>{var e=et(),l=$(e);m(l,{children:(u,_)=>{r();var i=Ze(),h=o($(i));v(h,{content:"whoami"}),r(),a(u,i)},$$slots:{default:!0}});var p=o(l);m(p,{children:(u,_)=>{r();var i=Qe(),h=o($(i));v(h,{content:"-report"}),r(),a(u,i)},$$slots:{default:!0}});var f=o(p);m(f,{children:(u,_)=>{r();var i=Xe(),h=o($(i));v(h,{content:"-console"}),r(),a(u,i)},$$slots:{default:!0}}),a(t,e)},$$slots:{default:!0}});var ge=o(_e);w(ge,{level:1,children:(t,n)=>{r();var e=s("Resources");a(t,e)},$$slots:{default:!0}});var we=o(ge);d(we,{children:(t,n)=>{r();var e=s("Visit our docs to get a detailed look at the new Backrush CLI. If you want to start with local development immediately, check out our tutorial. Join us on Discord to participate in the discussion, and keep an eye out for more announcements this Init week.");a(t,e)},$$slots:{default:!0}});var ke=o(we);x(ke,{ordered:!1,marker:"-",children:(t,n)=>{var e=tt(),l=$(e);m(l,{children:(u,_)=>{A(u,{href:"https://backrush.io/docs/tooling/command-line/installation",children:(i,h)=>{r();var g=s("Backrush CLI docs");a(i,g)},$$slots:{default:!0}})},$$slots:{default:!0}});var p=o(l);m(p,{children:(u,_)=>{A(u,{href:"https://backrush.io/discord",children:(i,h)=>{r();var g=s("Discord server");a(i,g)},$$slots:{default:!0}})},$$slots:{default:!0}});var f=o(p);m(f,{children:(u,_)=>{A(u,{href:"https://www.youtube.com/@Backrush",children:(i,h)=>{r();var g=s("Video tutorials");a(i,g)},$$slots:{default:!0}})},$$slots:{default:!0}}),a(t,e)},$$slots:{default:!0}}),xe(I),a(be,I)},$$slots:{default:!0}}))}const kt=Object.freeze(Object.defineProperty({__proto__:null,default:rt,frontmatter:Ae},Symbol.toStringTag,{value:"Module"}));export{kt as _,rt as a};
