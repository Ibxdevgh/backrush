import{t as c,b as o,a as r}from"./Cw4I5osi.js";import"./BzVk5r6l.js";import{c as fe,s as t,f as v,n as e,r as _e}from"./NgVQVlRK.js";import{n as ge}from"./B4IyMRKX.js";import{H as j}from"./CXsRaEhZ.js";import"./hMT8fFzP.js";import{T as he,a as de}from"./BHbEtIoO.js";/* empty css        */import"./BZUG4Puk.js";import{I as $e}from"./CmUbQthf.js";import"./D9bBQFLV.js";import{C as M}from"./DXp9_3zM.js";import{F as me}from"./OFUKRh55.js";import{L as U,I as k}from"./BhmTgGWB.js";import{P as I}from"./D8YsId2T.js";import{S as d}from"./yHjwcyUH.js";import{L as O}from"./yh4_9ChP.js";import"./NwRJ91PD.js";import"./POtwinrL.js";import"./CbbZjpT6.js";/* empty css        *//* empty css        */import{I as Pe}from"./CTynKKOH.js";const pe={layout:"integration",title:"Push notifications with FCM",description:"Integrate Firebase Cloud Messaging (FCM) with Backrush to send push notifications to iOS, Android and web applications.",date:"2024-07-30T00:00:00.000Z",featured:!1,isPartner:!0,isNew:!1,cover:"/images/integrations/push-fcm/cover.png",category:"messaging",product:{avatar:"/images/integrations/avatars/fcm.png",vendor:"Firebase",description:"Firebase Cloud Messaging is a cross-platform messaging solution from Google that enables you to send notifications and messages to users across Android, iOS, and web applications."},platform:["Self-hosted","Cloud"],images:["/images/integrations/push-fcm/cover.png","/images/integrations/push-fcm/private-key.png","/images/integrations/push-fcm/provider.png"]};var be=c("First, you must <!> and create a new project. Head to the <!> page, click on the <!> tab, and <!>. Download the JSON file for later use.",1),xe=c("You must also verify that FCM has been enabled on your project by visiting the <!> tab. If FCM is disabled, click the three-dots menu, open the link, and click <!>.",1),ye=c("For this step, you must <!> or <!> if you haven’t already. In your Backrush project, head over to the <!> page, click on the <!> tab, and <!>.",1),ke=c("Select <!> and upload the JSON file you downloaded from Firebase.",1),we=c("Install the <!> Firebase SDK.",1),Se=c("In your Firebase console, navigate to <!> &gt; <!> &gt; <!> &gt; add an <!> app.",1),Ae=c("Register and download your <!> config file.",1),Fe=c("Add <!> at the root of your project.",1),Ce=c("Add Google Services class path to your app-level Gradle dependencies block <!>.",1),Ie=c("Add the Google Services plugin to your app-level Gradle in the plugins block as <!>.",1),Me=c("Add notification handler service to <!> inside the application tag, alongside other activities. Find an example of this service in the <!> journey.",1),Ne=c("<!><!><!><!><!><!><!>",1),Oe=c("<!><!>",1),Te=c("In your Firebase console, navigate to <!> &gt; <!> &gt; <!> &gt; add an <!> app.",1),Ee=c("Register and download your <!> and add it to the root of your project.",1),je=c("Head to <!> &gt; <!> &gt; <!> &gt; <!>. The key needs <!> enabled.",1),Ge=c("In the Firebase console, go to <em>Settings</em>&gt; <!> &gt; <!> &gt; click <!>. Then, upload your key here.",1),Re=c("Add push notification capability to your app by clicking your root-level app in XCode &gt; <!> &gt; + Capabilities &gt; Search for <!>.",1),He=c("If using SwiftUI, disable swizzling by setting <!> to <!> in your <!>.",1),De=c("<!><!><!><!><!><!><!>",1),Le=c("<!><!>",1),Ye=c("After that, you can follow the <!> flow to test your provider.",1),Ue=c("<!><!><!><!>",1),Ve=c("<article><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!></article>");function ze(ue){Pe(ue,ge(pe,{children:(ce,Je)=>{var L=Ve(),V=fe(L);I(V,{children:(a,P)=>{e();var s=o("Firebase Cloud Messaging (FCM) is a cross-platform messaging solution from Google that enables you to send notifications and messages to users across Android, iOS, and web applications. It supports both notification messages displayed by the system UI and data messages handled by your app’s code.");r(a,s)},$$slots:{default:!0}});var z=t(V);j(z,{level:1,children:(a,P)=>{e();var s=o("How does the integration work?");r(a,s)},$$slots:{default:!0}});var J=t(z);I(J,{children:(a,P)=>{e();var s=o("You can use the FCM provider in Backrush Messaging to send push notifications to your users’ iOS, Android, and web apps. These can be used to send app updates, special offers, instant notifications, reminders, and more.");r(a,s)},$$slots:{default:!0}});var K=t(J);j(K,{level:1,children:(a,P)=>{e();var s=o("How to implement");r(a,s)},$$slots:{default:!0}});var B=t(K);I(B,{children:(a,P)=>{e();var s=o("To implement the FCM provider in Backrush Messaging, there are several steps you must complete:");r(a,s)},$$slots:{default:!0}});var X=t(B);j(X,{level:2,children:(a,P)=>{e();var s=o("Step 1: Sign up on Firebase");r(a,s)},$$slots:{default:!0}});var Z=t(X);I(Z,{children:(a,P)=>{e();var s=be(),x=t(v(s));O(x,{href:"https://firebase.google.com/",children:($,f)=>{e();var p=o("sign up for a Firebase account");r($,p)},$$slots:{default:!0}});var w=t(x,2);d(w,{marker:"**",children:($,f)=>{e();var p=o("Project settings");r($,p)},$$slots:{default:!0}});var y=t(w,2);d(y,{marker:"**",children:($,f)=>{e();var p=o("Service accounts");r($,p)},$$slots:{default:!0}});var F=t(y,2);d(F,{marker:"**",children:($,f)=>{e();var p=o("generate new private key");r($,p)},$$slots:{default:!0}}),e(),r(a,s)},$$slots:{default:!0}});var q=t(Z);I(q,{children:(a,P)=>{$e(a,{src:"/images/integrations/push-fcm/private-key.png",alt:"Firebase service account private key"})},$$slots:{default:!0}});var Q=t(q);I(Q,{children:(a,P)=>{e();var s=xe(),x=t(v(s));d(x,{marker:"**",children:(y,F)=>{e();var $=o("Cloud Messaging");r(y,$)},$$slots:{default:!0}});var w=t(x,2);d(w,{marker:"**",children:(y,F)=>{e();var $=o("Enable");r(y,$)},$$slots:{default:!0}}),e(),r(a,s)},$$slots:{default:!0}});var W=t(Q);j(W,{level:2,children:(a,P)=>{e();var s=o("Step 2: Add FCM provider to your Backrush project");r(a,s)},$$slots:{default:!0}});var ee=t(W);I(ee,{children:(a,P)=>{e();var s=ye(),x=t(v(s));O(x,{href:"https://cloud.appwrite.io/register",children:(f,p)=>{e();var h=o("create an account on Backrush Cloud");r(f,h)},$$slots:{default:!0}});var w=t(x,2);O(w,{href:"https://appwrite.io/docs/advanced/self-hosting",children:(f,p)=>{e();var h=o("self-host Backrush");r(f,h)},$$slots:{default:!0}});var y=t(w,2);d(y,{marker:"**",children:(f,p)=>{e();var h=o("Messaging");r(f,h)},$$slots:{default:!0}});var F=t(y,2);d(F,{marker:"**",children:(f,p)=>{e();var h=o("Providers");r(f,h)},$$slots:{default:!0}});var $=t(F,2);d($,{marker:"**",children:(f,p)=>{e();var h=o("create a new push notifications provider");r(f,h)},$$slots:{default:!0}}),e(),r(a,s)},$$slots:{default:!0}});var te=t(ee);I(te,{children:(a,P)=>{e();var s=ke(),x=t(v(s));d(x,{marker:"**",children:(w,y)=>{e();var F=o("FCM");r(w,F)},$$slots:{default:!0}}),e(),r(a,s)},$$slots:{default:!0}});var re=t(te);I(re,{children:(a,P)=>{$e(a,{src:"/images/integrations/push-fcm/provider.png",alt:"FCM provider"})},$$slots:{default:!0}});var oe=t(re);j(oe,{level:2,children:(a,P)=>{e();var s=o("Step 3: Test the provider");r(a,s)},$$slots:{default:!0}});var se=t(oe);I(se,{children:(a,P)=>{e();var s=o("To test the provider on mobile apps, there are some additional configuration steps:");r(a,s)},$$slots:{default:!0}});var ae=t(se);he(ae,{children:(a,P)=>{var s=Le(),x=v(s);de(x,{id:"android",title:"Android with FCM",children:(y,F)=>{var $=Oe(),f=v($);U(f,{ordered:!0,marker:".",children:(h,C)=>{var T=Ne(),G=v(T);k(G,{children:(l,m)=>{e();var n=we(),i=t(v(n));M(i,{content:"com.google.firebase:firebase-messaging"}),e(),r(l,n)},$$slots:{default:!0}});var R=t(G);k(R,{children:(l,m)=>{e();var n=Se(),i=t(v(n));d(i,{marker:"**",children:(b,Y)=>{e();var E=o("Settings");r(b,E)},$$slots:{default:!0}});var g=t(i,2);d(g,{marker:"**",children:(b,Y)=>{e();var E=o("General");r(b,E)},$$slots:{default:!0}});var u=t(g,2);d(u,{marker:"**",children:(b,Y)=>{e();var E=o("Your apps");r(b,E)},$$slots:{default:!0}});var A=t(u,2);d(A,{marker:"**",children:(b,Y)=>{e();var E=o("Android");r(b,E)},$$slots:{default:!0}}),e(),r(l,n)},$$slots:{default:!0}});var H=t(R);k(H,{children:(l,m)=>{e();var n=Ae(),i=t(v(n));M(i,{content:"google-services.json"}),e(),r(l,n)},$$slots:{default:!0}});var D=t(H);k(D,{children:(l,m)=>{e();var n=Fe(),i=t(v(n));M(i,{content:"google-services.json"}),e(),r(l,n)},$$slots:{default:!0}});var S=t(D);k(S,{children:(l,m)=>{e();var n=Ce(),i=t(v(n));M(i,{content:'"com.google.gms:google-services:4.4.0"'}),e(),r(l,n)},$$slots:{default:!0}});var N=t(S);k(N,{children:(l,m)=>{e();var n=Ie(),i=t(v(n));M(i,{content:'"com.google.gms.google-services"'}),e(),r(l,n)},$$slots:{default:!0}});var _=t(N);k(_,{children:(l,m)=>{e();var n=Me(),i=t(v(n));M(i,{content:"AndroidManifest.xml"});var g=t(i,2);O(g,{href:"https://appwrite.io/docs/products/messaging/send-push-notifications#add-targets",children:(u,A)=>{e();var b=o("Send push notification");r(u,b)},$$slots:{default:!0}}),e(),r(l,n)},$$slots:{default:!0}}),r(h,T)},$$slots:{default:!0}});var p=t(f);me(p,{content:`<service android:name="<YOUR_NOTIFICATION_HANDLER_SERVICE>" android:exported="false">
    <intent-filter>
        <action android:name="com.google.firebase.MESSAGING_EVENT" />
    </intent-filter>
</service>

`,language:"xml",process:!0,children:(h,C)=>{e();var T=o(`<service android:name="<YOUR_NOTIFICATION_HANDLER_SERVICE>" android:exported="false">
    <intent-filter>
        <action android:name="com.google.firebase.MESSAGING_EVENT" />
    </intent-filter>
</service>`);r(h,T)},$$slots:{default:!0}}),r(y,$)},$$slots:{default:!0}});var w=t(x);de(w,{id:"ios",title:"iOS with FCM",children:(y,F)=>{U(y,{ordered:!0,marker:".",children:($,f)=>{var p=De(),h=v(p);k(h,{children:(S,N)=>{e();var _=Te(),l=t(v(_));d(l,{marker:"**",children:(g,u)=>{e();var A=o("Settings");r(g,A)},$$slots:{default:!0}});var m=t(l,2);d(m,{marker:"**",children:(g,u)=>{e();var A=o("General");r(g,A)},$$slots:{default:!0}});var n=t(m,2);d(n,{marker:"**",children:(g,u)=>{e();var A=o("Your apps");r(g,A)},$$slots:{default:!0}});var i=t(n,2);d(i,{marker:"**",children:(g,u)=>{e();var A=o("iOS");r(g,A)},$$slots:{default:!0}}),e(),r(S,_)},$$slots:{default:!0}});var C=t(h);k(C,{children:(S,N)=>{e();var _=Ee(),l=t(v(_));M(l,{content:"GoogleService-Info.plist"}),e(),r(S,_)},$$slots:{default:!0}});var T=t(C);k(T,{children:(S,N)=>{e();var _=je(),l=t(v(_));d(l,{marker:"**",children:(u,A)=>{e();var b=o("Apple Developer Member Center");r(u,b)},$$slots:{default:!0}});var m=t(l,2);d(m,{marker:"**",children:(u,A)=>{e();var b=o("Program resources");r(u,b)},$$slots:{default:!0}});var n=t(m,2);d(n,{marker:"**",children:(u,A)=>{e();var b=o("Certificates, Identifiers & Profiles");r(u,b)},$$slots:{default:!0}});var i=t(n,2);d(i,{marker:"**",children:(u,A)=>{e();var b=o("Keys");r(u,b)},$$slots:{default:!0}});var g=t(i,2);d(g,{marker:"**",children:(u,A)=>{e();var b=o("Apple Push Notification Service");r(u,b)},$$slots:{default:!0}}),e(),r(S,_)},$$slots:{default:!0}});var G=t(T);k(G,{children:(S,N)=>{e();var _=o("Create a new key, note down the key ID, and download your key.");r(S,_)},$$slots:{default:!0}});var R=t(G);k(R,{children:(S,N)=>{e();var _=Ge(),l=t(v(_),3);d(l,{marker:"**",children:(i,g)=>{e();var u=o("Cloud Messaging");r(i,u)},$$slots:{default:!0}});var m=t(l,2);d(m,{marker:"**",children:(i,g)=>{e();var u=o("APNs authentication key");r(i,u)},$$slots:{default:!0}});var n=t(m,2);d(n,{marker:"**",children:(i,g)=>{e();var u=o("Upload");r(i,u)},$$slots:{default:!0}}),e(),r(S,_)},$$slots:{default:!0}});var H=t(R);k(H,{children:(S,N)=>{e();var _=Re(),l=t(v(_));d(l,{marker:"**",children:(n,i)=>{e();var g=o("Signing & Capabilities");r(n,g)},$$slots:{default:!0}});var m=t(l,2);d(m,{marker:"**",children:(n,i)=>{e();var g=o("Push Notifications");r(n,g)},$$slots:{default:!0}}),e(),r(S,_)},$$slots:{default:!0}});var D=t(H);k(D,{children:(S,N)=>{e();var _=He(),l=t(v(_));M(l,{content:"FirebaseAppDelegateProxyEnabled"});var m=t(l,2);M(m,{content:"NO"});var n=t(m,2);M(n,{content:"Info.plist"}),e(),r(S,_)},$$slots:{default:!0}}),r($,p)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(a,s)},$$slots:{default:!0}});var ne=t(ae);I(ne,{children:(a,P)=>{e();var s=Ye(),x=t(v(s));O(x,{href:"https://appwrite.io/docs/products/messaging/send-push-notifications",children:(w,y)=>{e();var F=o("Send push notifications");r(w,F)},$$slots:{default:!0}}),e(),r(a,s)},$$slots:{default:!0}});var le=t(ne);j(le,{level:1,children:(a,P)=>{e();var s=o("Read more about FCM and Backrush Messaging");r(a,s)},$$slots:{default:!0}});var ie=t(le);I(ie,{children:(a,P)=>{e();var s=o("If you would like to learn more about FCM and Backrush Messaging, we have some resources that you should visit:");r(a,s)},$$slots:{default:!0}});var ve=t(ie);U(ve,{ordered:!1,marker:"-",children:(a,P)=>{var s=Ue(),x=v(s);k(x,{children:($,f)=>{O($,{href:"https://appwrite.io/docs/products/messaging/fcm",children:(p,h)=>{e();var C=o("Set up the FCM provider in Backrush Messaging");r(p,C)},$$slots:{default:!0}})},$$slots:{default:!0}});var w=t(x);k(w,{children:($,f)=>{O($,{href:"https://appwrite.io/docs/products/messaging/send-push-notifications",children:(p,h)=>{e();var C=o("Send push notifications through Backrush Messaging");r(p,C)},$$slots:{default:!0}})},$$slots:{default:!0}});var y=t(w);k(y,{children:($,f)=>{O($,{href:"https://appwrite.io/blog/post/push-notifications-best-practices",children:(p,h)=>{e();var C=o("Best practices for sending push notifications");r(p,C)},$$slots:{default:!0}})},$$slots:{default:!0}});var F=t(y);k(F,{children:($,f)=>{O($,{href:"https://appwrite.io/docs/references/cloud/server-nodejs/messaging",children:(p,h)=>{e();var C=o("Backrush Messaging API reference");r(p,C)},$$slots:{default:!0}})},$$slots:{default:!0}}),r(a,s)},$$slots:{default:!0}}),_e(L),r(ce,L)},$$slots:{default:!0}}))}const _t=Object.freeze(Object.defineProperty({__proto__:null,default:ze,frontmatter:pe},Symbol.toStringTag,{value:"Module"}));export{_t as _,ze as a};
