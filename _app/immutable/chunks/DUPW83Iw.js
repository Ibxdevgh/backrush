import{t as u,b as a,a as e}from"./Cw4I5osi.js";import"./BzVk5r6l.js";import{c as oe,s as o,f as c,n as t,r as ae}from"./NgVQVlRK.js";import{n as se}from"./B4IyMRKX.js";import{H as G}from"./CXsRaEhZ.js";import"./hMT8fFzP.js";import"./NwRJ91PD.js";/* empty css        */import"./BZUG4Puk.js";/* empty css        */import"./D9bBQFLV.js";import{C as Q}from"./DXp9_3zM.js";import"./DOf4ro_L.js";import"./CKaMv3wE.js";/* empty css        */import{L as H,I as y}from"./BhmTgGWB.js";import{P as ne}from"./D8YsId2T.js";import{S as P}from"./yHjwcyUH.js";import{T as le}from"./D8BqvLkQ.js";import{T as de,a as F,b as W,c as ie,d as f}from"./BpU_IltG.js";import{P as $e}from"./CEkRzcqJ.js";const X={layout:"post",title:"February 2024 - Incident Report",cover:"/images/blog/privacy.png",description:"In this post, we detail the incidents encountered in February 2024, including high memory usage, database restarts, repeated gateway timeouts, and executor crashes. We share our analysis, user impact, and the resolution steps taken to mitigate these issues, reinforcing our commitment to transparency and continuous improvement.",date:"2024-03-15T00:00:00.000Z",timeToRead:3,author:"christy-jacob",category:"cloud",featured:!1};var ue=u("<!><!><!>",1),ce=u("<!><!><!>",1),ve=u("<!><!><!>",1),_e=u("<!><!><!>",1),fe=u("<!><!><!>",1),me=u("<!><!><!>",1),pe=u("<!><!><!>",1),he=u("<!><!><!>",1),ge=u("<!><!><!>",1),Pe=u("<!><!><!>",1),xe=u("<!><!><!><!><!><!><!><!><!>",1),ye=u("<!><!>",1),be=u("<!> February 1, 2024",1),ke=u("<!> 4 hours and 6 minutes",1),we=u("<!> High memory usage in a database cluster caused widespread impact on cloud components.",1),Te=u("<!> A high memory usage alert was triggered for one of the database clusters, leading to unresponsive behavior that impacted critical cloud components, including Databases, API, Functions, etc. The root cause was identified as a high memory load during scheduled backups, affecting API performance for all users on the cloud.",1),Ie=u("<!> Projects on the affected database were impacted, and partial API performance degradation during the initial phases.",1),Ae=u("<!> The problematic database was temporarily disconnected from the connection string, allowing for a necessary restart. After addressing the high memory usage, the database was reconnected, mitigating the issue.",1),De=u("<!><!><!><!><!><!>",1),Se=u("<!> February 12, 2024",1),Ce=u("<!> 1 hour and 34 minutes",1),Re=u("<!> Manual restart of a database affected project APIs.",1),Fe=u("<!> An unexpected manual restart of the <!> database was triggered by an engineer, impacting all projects associated with this database. The root cause was identified as high memory usage, compounded by a scheduling error due to time zone confusion.",1),je=u("<!> Projects on the affected database experienced downtime and service disruption.",1),Ue=u("<!> Transparent communication was maintained with affected users throughout the incident. Post-incident, measures were implemented to ensure such time zone errors are avoided in the future.",1),Ge=u("<!><!><!><!><!><!>",1),He=u("<!> February 13, 14, 15, 21, &amp; 24",1),Me=u("<!> Varied; a total of 86 minutes across all incidents",1),Be=u("<!> Multiple incidents of gateway timeouts following cloud deployments.",1),We=u("<!> Routine cloud deployments triggered gateway timeout errors due to a specific configuration introduced to Traefik (<!>), affecting routing post-deployment. This issue was consistent across several incidents, impacting users&#39; ability to access Backrush Cloud through the API and console.",1),ze=u("<!> Sporadic gateway timeout errors on the Backrush API and console, affecting user access to Backrush Cloud.",1),Le=u("<!> Immediate action involved restarting the Backrush service to force correct container routing. The root cause was addressed by reverting the Traefik configuration change on February 25, 2024, which resolved the gateway timeout errors.",1),Oe=u("<!><!><!><!><!><!>",1),Ee=u("<!> February 19, 2024",1),Ve=u("<!> 27 minutes",1),Ze=u("<!> A crash in the functions executor combined with a faulty webhook led to increased API latency and failures.",1),qe=u("<!> The system experienced a crash in one of its executors, triggered by a faulty webhook. This incident was compounded by a high load on the function executions, triggering multiple webhooks simultaneously, which blocked API workers ultimately leading to increased latency and monitors being triggered.",1),Je=u("<!> Users experienced API timeouts and failed function executions, leading to service disruption.",1),Ke=u("<!> Immediate actions included restarting the API and executor to recover from the crash. The problematic webhook was removed, and steps were taken to restart the webhook worker, ensuring pending jobs could continue to execute.",1),Ne=u("<!><!><!><!><!><!>",1),Qe=u("<article><!><!><!><!><!><!><!><!><!><!><!></article>");function Xe(Y){$e(Y,se(X,{children:(ee,Ye)=>{var M=Qe(),z=oe(M);ne(z,{children:(b,R)=>{t();var m=a("As Backrush Cloud continues to grow and scale, it is inevitable that we face challenges and obstacles that test the resilience of our systems and our team's ability to respond swiftly. February 2024 was no exception, as we encountered a series of incidents that put our protocols to the test. While these moments are opportunities for growth, they also remind us of the importance of transparency and communication with our community. This blog post aims to provide a detailed overview of the incidents we experienced throughout the month, including the causes, our responses, and the lessons learned. Our commitment to continuous improvement drives us to share these insights openly, reinforcing our dedication to reliability and trust.");e(b,m)},$$slots:{default:!0}});var L=o(z);G(L,{level:2,children:(b,R)=>{t();var m=a("TLDR; for February 2024");e(b,m)},$$slots:{default:!0}});var O=o(L);le(O,{children:(b,R)=>{var m=ye(),A=c(m);de(A,{children:(I,S)=>{F(I,{children:(T,C)=>{var d=ue(),_=c(d);W(_,{children:(s,v)=>{t();var l=a("Date");e(s,l)},$$slots:{default:!0}});var r=o(_);W(r,{children:(s,v)=>{t();var l=a("Title");e(s,l)},$$slots:{default:!0}});var n=o(r);W(n,{children:(s,v)=>{t();var l=a("Duration");e(s,l)},$$slots:{default:!0}}),e(T,d)},$$slots:{default:!0}})},$$slots:{default:!0}});var D=o(A);ie(D,{children:(I,S)=>{var T=xe(),C=c(T);F(C,{children:(k,j)=>{var p=ce(),h=c(p);f(h,{children:(i,x)=>{t();var $=a("2024-02-01");e(i,$)},$$slots:{default:!0}});var g=o(h);f(g,{children:(i,x)=>{t();var $=a("High Memory Usage During Scheduled Backups");e(i,$)},$$slots:{default:!0}});var w=o(g);f(w,{children:(i,x)=>{t();var $=a("4 hours, 6 mins");e(i,$)},$$slots:{default:!0}}),e(k,p)},$$slots:{default:!0}});var d=o(C);F(d,{children:(k,j)=>{var p=ve(),h=c(p);f(h,{children:(i,x)=>{t();var $=a("2024-02-12");e(i,$)},$$slots:{default:!0}});var g=o(h);f(g,{children:(i,x)=>{t();var $=a("Database Restart Incident");e(i,$)},$$slots:{default:!0}});var w=o(g);f(w,{children:(i,x)=>{t();var $=a("1 hour, 34 mins");e(i,$)},$$slots:{default:!0}}),e(k,p)},$$slots:{default:!0}});var _=o(d);F(_,{children:(k,j)=>{var p=_e(),h=c(p);f(h,{children:(i,x)=>{t();var $=a("2024-02-13");e(i,$)},$$slots:{default:!0}});var g=o(h);f(g,{children:(i,x)=>{t();var $=a("Gateway Timeouts in Traefik Containers");e(i,$)},$$slots:{default:!0}});var w=o(g);f(w,{children:(i,x)=>{t();var $=a("15 mins");e(i,$)},$$slots:{default:!0}}),e(k,p)},$$slots:{default:!0}});var r=o(_);F(r,{children:(k,j)=>{var p=fe(),h=c(p);f(h,{children:(i,x)=>{t();var $=a("2024-02-14");e(i,$)},$$slots:{default:!0}});var g=o(h);f(g,{children:(i,x)=>{t();var $=a("Gateway Timeouts in Traefik Containers");e(i,$)},$$slots:{default:!0}});var w=o(g);f(w,{children:(i,x)=>{t();var $=a("8 mins");e(i,$)},$$slots:{default:!0}}),e(k,p)},$$slots:{default:!0}});var n=o(r);F(n,{children:(k,j)=>{var p=me(),h=c(p);f(h,{children:(i,x)=>{t();var $=a("2024-02-15");e(i,$)},$$slots:{default:!0}});var g=o(h);f(g,{children:(i,x)=>{t();var $=a("Gateway Timeouts in Traefik Containers");e(i,$)},$$slots:{default:!0}});var w=o(g);f(w,{children:(i,x)=>{t();var $=a("8 mins");e(i,$)},$$slots:{default:!0}}),e(k,p)},$$slots:{default:!0}});var s=o(n);F(s,{children:(k,j)=>{var p=pe(),h=c(p);f(h,{children:(i,x)=>{t();var $=a("2024-02-19");e(i,$)},$$slots:{default:!0}});var g=o(h);f(g,{children:(i,x)=>{t();var $=a("Executor Crash and Bad Webhook");e(i,$)},$$slots:{default:!0}});var w=o(g);f(w,{children:(i,x)=>{t();var $=a("27 mins");e(i,$)},$$slots:{default:!0}}),e(k,p)},$$slots:{default:!0}});var v=o(s);F(v,{children:(k,j)=>{var p=he(),h=c(p);f(h,{children:(i,x)=>{t();var $=a("2024-02-21");e(i,$)},$$slots:{default:!0}});var g=o(h);f(g,{children:(i,x)=>{t();var $=a("Gateway Timeouts in Traefik Containers");e(i,$)},$$slots:{default:!0}});var w=o(g);f(w,{children:(i,x)=>{t();var $=a("25 mins");e(i,$)},$$slots:{default:!0}}),e(k,p)},$$slots:{default:!0}});var l=o(v);F(l,{children:(k,j)=>{var p=ge(),h=c(p);f(h,{children:(i,x)=>{t();var $=a("2024-02-24");e(i,$)},$$slots:{default:!0}});var g=o(h);f(g,{children:(i,x)=>{t();var $=a("Gateway Timeouts in Traefik Containers");e(i,$)},$$slots:{default:!0}});var w=o(g);f(w,{children:(i,x)=>{t();var $=a("30 mins");e(i,$)},$$slots:{default:!0}}),e(k,p)},$$slots:{default:!0}});var U=o(l);F(U,{children:(k,j)=>{var p=Pe(),h=c(p);f(h,{children:(i,x)=>{P(i,{marker:"**",children:($,re)=>{t();var B=a("Total");e($,B)},$$slots:{default:!0}})},$$slots:{default:!0}});var g=o(h);f(g,{});var w=o(g);f(w,{children:(i,x)=>{P(i,{marker:"**",children:($,re)=>{t();var B=a("7 hours, 33 mins");e($,B)},$$slots:{default:!0}})},$$slots:{default:!0}}),e(k,p)},$$slots:{default:!0}}),e(I,T)},$$slots:{default:!0}}),e(b,m)},$$slots:{default:!0}});var E=o(O);G(E,{level:4,children:(b,R)=>{t();var m=a("High Memory Usage During Scheduled Backups");e(b,m)},$$slots:{default:!0}});var V=o(E);H(V,{ordered:!1,marker:"-",children:(b,R)=>{var m=De(),A=c(m);y(A,{children:(d,_)=>{var r=be(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Date:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var D=o(A);y(D,{children:(d,_)=>{var r=ke(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Duration:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var I=o(D);y(I,{children:(d,_)=>{var r=we(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Summary:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var S=o(I);y(S,{children:(d,_)=>{var r=Te(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Description:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var T=o(S);y(T,{children:(d,_)=>{var r=Ie(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("User Impact:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var C=o(T);y(C,{children:(d,_)=>{var r=Ae(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Resolution and Steps Taken:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}}),e(b,m)},$$slots:{default:!0}});var Z=o(V);G(Z,{level:4,children:(b,R)=>{t();var m=a("Database Restart Incident");e(b,m)},$$slots:{default:!0}});var q=o(Z);H(q,{ordered:!1,marker:"-",children:(b,R)=>{var m=Ge(),A=c(m);y(A,{children:(d,_)=>{var r=Se(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Date:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var D=o(A);y(D,{children:(d,_)=>{var r=Ce(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Duration:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var I=o(D);y(I,{children:(d,_)=>{var r=Re(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Summary:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var S=o(I);y(S,{children:(d,_)=>{var r=Fe(),n=c(r);P(n,{marker:"**",children:(v,l)=>{t();var U=a("Description:");e(v,U)},$$slots:{default:!0}});var s=o(n,2);Q(s,{content:"database_db_fra1_self_hosted_2_0"}),t(),e(d,r)},$$slots:{default:!0}});var T=o(S);y(T,{children:(d,_)=>{var r=je(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("User Impact:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var C=o(T);y(C,{children:(d,_)=>{var r=Ue(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Resolution and Steps Taken:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}}),e(b,m)},$$slots:{default:!0}});var J=o(q);G(J,{level:4,children:(b,R)=>{t();var m=a("Repeated Gateway Timeouts in Traefik Containers");e(b,m)},$$slots:{default:!0}});var K=o(J);H(K,{ordered:!1,marker:"-",children:(b,R)=>{var m=Oe(),A=c(m);y(A,{children:(d,_)=>{var r=He(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Dates:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var D=o(A);y(D,{children:(d,_)=>{var r=Me(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Duration:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var I=o(D);y(I,{children:(d,_)=>{var r=Be(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Summary:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var S=o(I);y(S,{children:(d,_)=>{var r=We(),n=c(r);P(n,{marker:"**",children:(v,l)=>{t();var U=a("Description:");e(v,U)},$$slots:{default:!0}});var s=o(n,2);Q(s,{content:"--serversTransport.maxIdleConnsPerHost=-1"}),t(),e(d,r)},$$slots:{default:!0}});var T=o(S);y(T,{children:(d,_)=>{var r=ze(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("User Impact:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var C=o(T);y(C,{children:(d,_)=>{var r=Le(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Resolution and Steps Taken:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}}),e(b,m)},$$slots:{default:!0}});var N=o(K);G(N,{level:4,children:(b,R)=>{t();var m=a("Executor Crash and Bad Webhook");e(b,m)},$$slots:{default:!0}});var te=o(N);H(te,{ordered:!1,marker:"-",children:(b,R)=>{var m=Ne(),A=c(m);y(A,{children:(d,_)=>{var r=Ee(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Date:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var D=o(A);y(D,{children:(d,_)=>{var r=Ve(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Duration:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var I=o(D);y(I,{children:(d,_)=>{var r=Ze(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Summary:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var S=o(I);y(S,{children:(d,_)=>{var r=qe(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Description:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var T=o(S);y(T,{children:(d,_)=>{var r=Je(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("User Impact:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}});var C=o(T);y(C,{children:(d,_)=>{var r=Ke(),n=c(r);P(n,{marker:"**",children:(s,v)=>{t();var l=a("Resolution and Steps Taken:");e(s,l)},$$slots:{default:!0}}),t(),e(d,r)},$$slots:{default:!0}}),e(b,m)},$$slots:{default:!0}}),ae(M),e(ee,M)},$$slots:{default:!0}}))}const xt=Object.freeze(Object.defineProperty({__proto__:null,default:Xe,frontmatter:X},Symbol.toStringTag,{value:"Module"}));export{xt as _,Xe as a};
