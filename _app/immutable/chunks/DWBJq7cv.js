import{t as c,b as i,a as s}from"./Cw4I5osi.js";import"./BzVk5r6l.js";import{c as oe,s as o,f as $,n as r,r as re}from"./NgVQVlRK.js";import{n as se}from"./B4IyMRKX.js";import{H as v}from"./CXsRaEhZ.js";import"./hMT8fFzP.js";import"./NwRJ91PD.js";/* empty css        */import{A as g}from"./CP6rnx7i.js";import"./BZUG4Puk.js";import{I as ae}from"./CmUbQthf.js";import"./D9bBQFLV.js";import{C as p}from"./DXp9_3zM.js";import"./DOf4ro_L.js";import"./CKaMv3wE.js";/* empty css        *//* empty css        */import{L as y,I as m}from"./BhmTgGWB.js";import{P as d}from"./D8YsId2T.js";import{S as ne}from"./yHjwcyUH.js";import"./POtwinrL.js";import"./CbbZjpT6.js";/* empty css        */import{P as ie}from"./CEkRzcqJ.js";const K={layout:"post",title:"Solving CORS errors with Backrush",description:"Understanding why you are getting CORS error when sending a request to an Backrush backend and how to debug.",date:"2024-01-16T00:00:00.000Z",cover:"/images/blog/cors-error/cors_cover.png",timeToRead:3,author:"dennis-ivy",category:"tutorial",featured:!1,callToAction:!0};var le=c("The error message you&#39;ll see in your console when trying to make a request to an Backrush backend will look something like this: <!>",1),de=c("Site A, our server sitting at <!> won&#39;t allow request coming from site B, which is our client app sitting at <!>.",1),ue=c("This happens because our server has not added site B, <!>, to its list of allowed origins. Any request coming from a URL that is not listed in our server&#39;s allowed origins will be rejected by our CORS policy. The solution in this case would be to simply add <!> to the list of allowed origins.",1),he=c("CORS is crucial because it provides a secure way to make requests across different origins. Without CORS, any website would be able to make requests to our server, and this would lead to major problems. Imagine a malicious third party making a website <!> that key logs your user name and password, before making requests to your backend to validate the combination.",1),ce=c("<!><!><!>",1),$e=c("First, you&#39;ll want to check your Backrush Console to make sure you have added a hostname and are making a request from the correct hostname. Make sure you have added a platform in your Backrush console by going to the <!> tab, select your platform or adding one if you have none, and then ensure you have added a hostname.",1),pe=c("A hostname is simply the domain you will be making the request from. In development, this will most likely be <!>. No need to add a port number or protocol here.",1),ve=c("<!><!><!>",1),me=c("This one happens because of an improperly configured request, such as a typo when specifying a project ID. For example, when using the <!> method, if the project ID is set incorrectly when the client is initialized, you will receive a CORS error.",1),fe=c("Without diving into the details about how CORS works, the problem occurs when the browser tries to check if the origin is allowed. The request returns a <!> response, so the entire CORS check fails.",1),_e=c("<article><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!></article>");function ge(Q){ie(Q,se(K,{children:(ee,we)=>{var w=_e(),b=oe(w);d(b,{children:(t,a)=>{r();var e=i("I want to address an issue I've seen popping up on Stack Overflow and the Backrush Discord server and address some of the reasons you may be getting this error, then walk you through some of the steps you can take to try and resolve it as well.");s(t,e)},$$slots:{default:!0}});var P=o(b);d(P,{children:(t,a)=>{r();var e=le(),n=o($(e));p(n,{content:"Access blocked by CORS policy."}),s(t,e)},$$slots:{default:!0}});var k=o(P);v(k,{level:1,children:(t,a)=>{r();var e=i("Understanding CORS");s(t,e)},$$slots:{default:!0}});var x=o(k);d(x,{children:(t,a)=>{r();var e=i("Before we start debugging this, let's talk about what a CORS error is.");s(t,e)},$$slots:{default:!0}});var O=o(x);d(O,{children:(t,a)=>{r();var e=i("Without diving deep into the topic, CORS (Cross-Origin Resource Sharing ) is a mechanism that allows a server to specify which origins can access it. By origins, I mean URLs.");s(t,e)},$$slots:{default:!0}});var S=o(O);d(S,{children:(t,a)=>{r();var e=de(),n=o($(e));p(n,{content:"myapi.com"});var l=o(n,2);p(l,{content:"myfrontend.com"}),r(),s(t,e)},$$slots:{default:!0}});var R=o(S);d(R,{children:(t,a)=>{r();var e=ue(),n=o($(e));p(n,{content:"myfrontend.com"});var l=o(n,2);p(l,{content:"myfrontend.com"}),r(),s(t,e)},$$slots:{default:!0}});var C=o(R);d(C,{children:(t,a)=>{ae(t,{src:"/images/blog/cors-error/cors_example.png",alt:"CORS error appwrite"})},$$slots:{default:!0}});var I=o(C);d(I,{children:(t,a)=>{r();var e=he(),n=o($(e));p(n,{content:"myfr0nt3nd.com"}),r(),s(t,e)},$$slots:{default:!0}});var A=o(I);v(A,{level:1,children:(t,a)=>{r();var e=i("Why you are getting a CORS error");s(t,e)},$$slots:{default:!0}});var T=o(A);d(T,{children:(t,a)=>{r();var e=i("Now let's try to figure this all out in the context of Backrush and why you may be getting this error. I have listed three main reasons. If more arise, I will update the article to include them.");s(t,e)},$$slots:{default:!0}});var q=o(T);y(q,{ordered:!0,marker:".",children:(t,a)=>{var e=ce(),n=$(e);m(n,{children:(u,f)=>{r();var h=i("Origin not set in Console");s(u,h)},$$slots:{default:!0}});var l=o(n);m(l,{children:(u,f)=>{r();var h=i("Origin is set incorrectly");s(u,h)},$$slots:{default:!0}});var _=o(l);m(_,{children:(u,f)=>{r();var h=i("Bad ID on request");s(u,h)},$$slots:{default:!0}}),s(t,e)},$$slots:{default:!0}});var D=o(q);v(D,{level:2,children:(t,a)=>{r();var e=i("1 - Origin not set in Console");s(t,e)},$$slots:{default:!0}});var L=o(D);d(L,{children:(t,a)=>{r();var e=$e(),n=o($(e));ne(n,{marker:"**",children:(l,_)=>{r();var u=i("Overview");s(l,u)},$$slots:{default:!0}}),r(),s(t,e)},$$slots:{default:!0}});var j=o(L);d(j,{children:(t,a)=>{r();var e=pe(),n=o($(e));p(n,{content:"localhost"}),r(),s(t,e)},$$slots:{default:!0}});var U=o(j);v(U,{level:2,children:(t,a)=>{r();var e=i("2 - Origin is set incorrectly");s(t,e)},$$slots:{default:!0}});var B=o(U);d(B,{children:(t,a)=>{r();var e=i("The second issue I often see is a hostname that is not properly configured. This is usually a typo or, more often, a mistake made when switching between a local domain and live domain. Developers will often deploy their website and wonder why they are getting this error, only to find they still have their hostname set as localhost.");s(t,e)},$$slots:{default:!0}});var H=o(B);d(H,{children:(t,a)=>{r();var e=i("So if you find this is why you were getting a CORS error, you have a few ways of solving this.");s(t,e)},$$slots:{default:!0}});var W=o(H);y(W,{ordered:!0,marker:".",children:(t,a)=>{var e=ve(),n=$(e);m(n,{children:(u,f)=>{r();var h=i("Update hostname each time you switch between localhost and live URL. This is not ideal since you would be switching back and forth constantly.");s(u,h)},$$slots:{default:!0}});var l=o(n);m(l,{children:(u,f)=>{r();var h=i("Add a wildcard to allow requests from any origin - Not secure");s(u,h)},$$slots:{default:!0}});var _=o(l);m(_,{children:(u,f)=>{r();var h=i('Add multiple origins - This can be done by adding another "platform" and simply specifying the second and third origins as you add them. - Recommended');s(u,h)},$$slots:{default:!0}}),s(t,e)},$$slots:{default:!0}});var F=o(W);v(F,{level:2,children:(t,a)=>{r();var e=i("3 - Incorrect ID on request");s(t,e)},$$slots:{default:!0}});var N=o(F);d(N,{children:(t,a)=>{r();var e=me(),n=o($(e));p(n,{content:"listDocuments"}),r(),s(t,e)},$$slots:{default:!0}});var z=o(N);d(z,{children:(t,a)=>{r();var e=fe(),n=o($(e));p(n,{content:"40X"}),r(),s(t,e)},$$slots:{default:!0}});var M=o(z);v(M,{level:2,children:(t,a)=>{r();var e=i("Other things to consider");s(t,e)},$$slots:{default:!0}});var Y=o(M);d(Y,{children:(t,a)=>{r();var e=i("In most cases, the issues people face have to do with one of the above reasons listed and can be solved with the given suggestions. However, if you are still running into issues, I’ll keep an ongoing list of other possibilities and things to check for.");s(t,e)},$$slots:{default:!0}});var E=o(Y);y(E,{ordered:!1,marker:"-",children:(t,a)=>{m(t,{children:(e,n)=>{r();var l=i("Disabled CORS in browser.  (I’ve seen people have this issue with browser extensions)");s(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}});var J=o(E);v(J,{level:2,children:(t,a)=>{r();var e=i("Additional resources");s(t,e)},$$slots:{default:!0}});var V=o(J);d(V,{children:(t,a)=>{r();var e=i("Visit our documentation, Discord server, YouTube channel, or Threads page to find more resources on this topic.");s(t,e)},$$slots:{default:!0}});var X=o(V);g(X,{href:"https://appwrite.io/docs/advanced/security/abuse-protection/",children:(t,a)=>{d(t,{children:(e,n)=>{r();var l=i("Learn more in our documentation");s(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}});var Z=o(X);g(Z,{href:"https://appwrite.io/discord",children:(t,a)=>{d(t,{children:(e,n)=>{r();var l=i("Join the Backrush Discord server");s(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}});var G=o(Z);g(G,{href:"https://www.youtube.com/watch?v=oEpRh9H5l5g",children:(t,a)=>{d(t,{children:(e,n)=>{r();var l=i("Follow the tutorial on YouTube");s(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}});var te=o(G);g(te,{href:"https://appwrite.io/threads",children:(t,a)=>{d(t,{children:(e,n)=>{r();var l=i("Search past support threads");s(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}}),re(w),s(ee,w)},$$slots:{default:!0}}))}const Ye=Object.freeze(Object.defineProperty({__proto__:null,default:ge,frontmatter:K},Symbol.toStringTag,{value:"Module"}));export{Ye as _,ge as a};
